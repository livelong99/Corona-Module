{"ast":null,"code":"/**\r\n * DevExtreme (ui/scroll_view/ui.scroll_view.js)\r\n * Version: 19.2.7\r\n * Build date: Thu Mar 26 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../../core/renderer\");\n\nvar devices = require(\"../../core/devices\");\n\nvar windowUtils = require(\"../../core/utils/window\");\n\nvar messageLocalization = require(\"../../localization/message\");\n\nvar registerComponent = require(\"../../core/component_registrator\");\n\nvar getPublicElement = require(\"../../core/utils/dom\").getPublicElement;\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar noop = require(\"../../core/utils/common\").noop;\n\nvar PullDownStrategy = require(\"./ui.scroll_view.native.pull_down\");\n\nvar SwipeDownStrategy = require(\"./ui.scroll_view.native.swipe_down\");\n\nvar SimulatedStrategy = require(\"./ui.scroll_view.simulated\");\n\nvar Scrollable = require(\"./ui.scrollable\");\n\nvar LoadIndicator = require(\"../load_indicator\");\n\nvar themes = require(\"./../themes\");\n\nvar LoadPanel = require(\"../load_panel\");\n\nvar SCROLLVIEW_CLASS = \"dx-scrollview\";\nvar SCROLLVIEW_CONTENT_CLASS = SCROLLVIEW_CLASS + \"-content\";\nvar SCROLLVIEW_TOP_POCKET_CLASS = SCROLLVIEW_CLASS + \"-top-pocket\";\nvar SCROLLVIEW_BOTTOM_POCKET_CLASS = SCROLLVIEW_CLASS + \"-bottom-pocket\";\nvar SCROLLVIEW_PULLDOWN_CLASS = SCROLLVIEW_CLASS + \"-pull-down\";\nvar SCROLLVIEW_REACHBOTTOM_CLASS = SCROLLVIEW_CLASS + \"-scrollbottom\";\nvar SCROLLVIEW_REACHBOTTOM_INDICATOR_CLASS = SCROLLVIEW_REACHBOTTOM_CLASS + \"-indicator\";\nvar SCROLLVIEW_REACHBOTTOM_TEXT_CLASS = SCROLLVIEW_REACHBOTTOM_CLASS + \"-text\";\nvar SCROLLVIEW_LOADPANEL = SCROLLVIEW_CLASS + \"-loadpanel\";\nvar refreshStrategies = {\n  pullDown: PullDownStrategy,\n  swipeDown: SwipeDownStrategy,\n  simulated: SimulatedStrategy\n};\nvar isServerSide = !windowUtils.hasWindow();\nvar scrollViewServerConfig = {\n  finishLoading: noop,\n  release: noop,\n  refresh: noop,\n  _optionChanged: function _optionChanged(args) {\n    if (\"onUpdated\" !== args.name) {\n      return this.callBase.apply(this, arguments);\n    }\n  }\n};\nvar ScrollView = Scrollable.inherit(isServerSide ? scrollViewServerConfig : {\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), {\n      pullingDownText: messageLocalization.format(\"dxScrollView-pullingDownText\"),\n      pulledDownText: messageLocalization.format(\"dxScrollView-pulledDownText\"),\n      refreshingText: messageLocalization.format(\"dxScrollView-refreshingText\"),\n      reachBottomText: messageLocalization.format(\"dxScrollView-reachBottomText\"),\n      onPullDown: null,\n      onReachBottom: null,\n      refreshStrategy: \"pullDown\"\n    });\n  },\n  _defaultOptionsRules: function _defaultOptionsRules() {\n    return this.callBase().concat([{\n      device: function device() {\n        var realDevice = devices.real();\n        return \"android\" === realDevice.platform;\n      },\n      options: {\n        refreshStrategy: \"swipeDown\"\n      }\n    }, {\n      device: function device() {\n        return themes.isMaterial();\n      },\n      options: {\n        pullingDownText: \"\",\n        pulledDownText: \"\",\n        refreshingText: \"\",\n        reachBottomText: \"\"\n      }\n    }]);\n  },\n  _init: function _init() {\n    this.callBase();\n    this._loadingIndicatorEnabled = true;\n  },\n  _initScrollableMarkup: function _initScrollableMarkup() {\n    this.callBase();\n    this.$element().addClass(SCROLLVIEW_CLASS);\n\n    this._initContent();\n\n    this._initTopPocket();\n\n    this._initBottomPocket();\n\n    this._initLoadPanel();\n  },\n  _initContent: function _initContent() {\n    var $content = $(\"<div>\").addClass(SCROLLVIEW_CONTENT_CLASS);\n\n    this._$content.wrapInner($content);\n  },\n  _initTopPocket: function _initTopPocket() {\n    var $topPocket = this._$topPocket = $(\"<div>\").addClass(SCROLLVIEW_TOP_POCKET_CLASS);\n    var $pullDown = this._$pullDown = $(\"<div>\").addClass(SCROLLVIEW_PULLDOWN_CLASS);\n    $topPocket.append($pullDown);\n\n    this._$content.prepend($topPocket);\n  },\n  _initBottomPocket: function _initBottomPocket() {\n    var $bottomPocket = this._$bottomPocket = $(\"<div>\").addClass(SCROLLVIEW_BOTTOM_POCKET_CLASS);\n    var $reachBottom = this._$reachBottom = $(\"<div>\").addClass(SCROLLVIEW_REACHBOTTOM_CLASS);\n    var $loadContainer = $(\"<div>\").addClass(SCROLLVIEW_REACHBOTTOM_INDICATOR_CLASS);\n    var $loadIndicator = new LoadIndicator($(\"<div>\")).$element();\n    var $text = this._$reachBottomText = $(\"<div>\").addClass(SCROLLVIEW_REACHBOTTOM_TEXT_CLASS);\n\n    this._updateReachBottomText();\n\n    $reachBottom.append($loadContainer.append($loadIndicator)).append($text);\n    $bottomPocket.append($reachBottom);\n\n    this._$content.append($bottomPocket);\n  },\n  _initLoadPanel: function _initLoadPanel() {\n    var $loadPanelElement = $(\"<div>\").addClass(SCROLLVIEW_LOADPANEL).appendTo(this.$element());\n    var loadPanelOptions = {\n      shading: false,\n      delay: 400,\n      message: this.option(\"refreshingText\"),\n      position: {\n        of: this.$element()\n      }\n    };\n    this._loadPanel = this._createComponent($loadPanelElement, LoadPanel, loadPanelOptions);\n  },\n  _updateReachBottomText: function _updateReachBottomText() {\n    this._$reachBottomText.text(this.option(\"reachBottomText\"));\n  },\n  _createStrategy: function _createStrategy() {\n    var strategyName = this.option(\"useNative\") ? this.option(\"refreshStrategy\") : \"simulated\";\n    var strategyClass = refreshStrategies[strategyName];\n\n    if (!strategyClass) {\n      throw Error(\"E1030\", this.option(\"refreshStrategy\"));\n    }\n\n    this._strategy = new strategyClass(this);\n\n    this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this));\n\n    this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this));\n\n    this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this));\n  },\n  _createActions: function _createActions() {\n    this.callBase();\n    this._pullDownAction = this._createActionByOption(\"onPullDown\");\n    this._reachBottomAction = this._createActionByOption(\"onReachBottom\");\n\n    this._tryRefreshPocketState();\n  },\n  _tryRefreshPocketState: function _tryRefreshPocketState() {\n    this._pullDownEnable(this.hasActionSubscription(\"onPullDown\"));\n\n    this._reachBottomEnable(this.hasActionSubscription(\"onReachBottom\"));\n  },\n  on: function on(eventName) {\n    var result = this.callBase.apply(this, arguments);\n\n    if (\"pullDown\" === eventName || \"reachBottom\" === eventName) {\n      this._tryRefreshPocketState();\n    }\n\n    return result;\n  },\n  _pullDownEnable: function _pullDownEnable(enabled) {\n    if (0 === arguments.length) {\n      return this._pullDownEnabled;\n    }\n\n    if (this._$pullDown && this._strategy) {\n      this._$pullDown.toggle(enabled);\n\n      this._strategy.pullDownEnable(enabled);\n\n      this._pullDownEnabled = enabled;\n    }\n  },\n  _reachBottomEnable: function _reachBottomEnable(enabled) {\n    if (0 === arguments.length) {\n      return this._reachBottomEnabled;\n    }\n\n    if (this._$reachBottom && this._strategy) {\n      this._$reachBottom.toggle(enabled);\n\n      this._strategy.reachBottomEnable(enabled);\n\n      this._reachBottomEnabled = enabled;\n    }\n  },\n  _pullDownHandler: function _pullDownHandler() {\n    this._loadingIndicator(false);\n\n    this._pullDownLoading();\n  },\n  _loadingIndicator: function _loadingIndicator(value) {\n    if (arguments.length < 1) {\n      return this._loadingIndicatorEnabled;\n    }\n\n    this._loadingIndicatorEnabled = value;\n  },\n  _pullDownLoading: function _pullDownLoading() {\n    this.startLoading();\n\n    this._pullDownAction();\n  },\n  _reachBottomHandler: function _reachBottomHandler() {\n    this._loadingIndicator(false);\n\n    this._reachBottomLoading();\n  },\n  _reachBottomLoading: function _reachBottomLoading() {\n    this.startLoading();\n\n    this._reachBottomAction();\n  },\n  _releaseHandler: function _releaseHandler() {\n    this.finishLoading();\n\n    this._loadingIndicator(true);\n  },\n  _optionChanged: function _optionChanged(args) {\n    switch (args.name) {\n      case \"onPullDown\":\n      case \"onReachBottom\":\n        this._createActions();\n\n        break;\n\n      case \"pullingDownText\":\n      case \"pulledDownText\":\n      case \"refreshingText\":\n      case \"refreshStrategy\":\n        this._invalidate();\n\n        break;\n\n      case \"reachBottomText\":\n        this._updateReachBottomText();\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  isEmpty: function isEmpty() {\n    return !$(this.content()).children().length;\n  },\n  content: function content() {\n    return getPublicElement(this._$content.children().eq(1));\n  },\n  release: function release(preventReachBottom) {\n    if (void 0 !== preventReachBottom) {\n      this.toggleLoading(!preventReachBottom);\n    }\n\n    return this._strategy.release();\n  },\n  toggleLoading: function toggleLoading(showOrHide) {\n    this._reachBottomEnable(showOrHide);\n  },\n  isFull: function isFull() {\n    return $(this.content()).height() > this._$container.height();\n  },\n  refresh: function refresh() {\n    if (!this.hasActionSubscription(\"onPullDown\")) {\n      return;\n    }\n\n    this._strategy.pendingRelease();\n\n    this._pullDownLoading();\n  },\n  startLoading: function startLoading() {\n    if (this._loadingIndicator() && this.$element().is(\":visible\")) {\n      this._loadPanel.show();\n    }\n\n    this._lock();\n  },\n  finishLoading: function finishLoading() {\n    this._loadPanel.hide();\n\n    this._unlock();\n  },\n  _dispose: function _dispose() {\n    this._strategy.dispose();\n\n    this.callBase();\n\n    if (this._loadPanel) {\n      this._loadPanel.$element().remove();\n    }\n  }\n});\nregisterComponent(\"dxScrollView\", ScrollView);\nmodule.exports = ScrollView;","map":{"version":3,"sources":["C:/Users/va112/Documents/Webdev/React/Corona/node_modules/devextreme/ui/scroll_view/ui.scroll_view.js"],"names":["$","require","devices","windowUtils","messageLocalization","registerComponent","getPublicElement","extend","noop","PullDownStrategy","SwipeDownStrategy","SimulatedStrategy","Scrollable","LoadIndicator","themes","LoadPanel","SCROLLVIEW_CLASS","SCROLLVIEW_CONTENT_CLASS","SCROLLVIEW_TOP_POCKET_CLASS","SCROLLVIEW_BOTTOM_POCKET_CLASS","SCROLLVIEW_PULLDOWN_CLASS","SCROLLVIEW_REACHBOTTOM_CLASS","SCROLLVIEW_REACHBOTTOM_INDICATOR_CLASS","SCROLLVIEW_REACHBOTTOM_TEXT_CLASS","SCROLLVIEW_LOADPANEL","refreshStrategies","pullDown","swipeDown","simulated","isServerSide","hasWindow","scrollViewServerConfig","finishLoading","release","refresh","_optionChanged","args","name","callBase","apply","arguments","ScrollView","inherit","_getDefaultOptions","pullingDownText","format","pulledDownText","refreshingText","reachBottomText","onPullDown","onReachBottom","refreshStrategy","_defaultOptionsRules","concat","device","realDevice","real","platform","options","isMaterial","_init","_loadingIndicatorEnabled","_initScrollableMarkup","$element","addClass","_initContent","_initTopPocket","_initBottomPocket","_initLoadPanel","$content","_$content","wrapInner","$topPocket","_$topPocket","$pullDown","_$pullDown","append","prepend","$bottomPocket","_$bottomPocket","$reachBottom","_$reachBottom","$loadContainer","$loadIndicator","$text","_$reachBottomText","_updateReachBottomText","$loadPanelElement","appendTo","loadPanelOptions","shading","delay","message","option","position","of","_loadPanel","_createComponent","text","_createStrategy","strategyName","strategyClass","Error","_strategy","pullDownCallbacks","add","_pullDownHandler","bind","releaseCallbacks","_releaseHandler","reachBottomCallbacks","_reachBottomHandler","_createActions","_pullDownAction","_createActionByOption","_reachBottomAction","_tryRefreshPocketState","_pullDownEnable","hasActionSubscription","_reachBottomEnable","on","eventName","result","enabled","length","_pullDownEnabled","toggle","pullDownEnable","_reachBottomEnabled","reachBottomEnable","_loadingIndicator","_pullDownLoading","value","startLoading","_reachBottomLoading","_invalidate","isEmpty","content","children","eq","preventReachBottom","toggleLoading","showOrHide","isFull","height","_$container","pendingRelease","is","show","_lock","hide","_unlock","_dispose","dispose","remove","module","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scroll_view/ui.scroll_view.js)\r\n * Version: 19.2.7\r\n * Build date: Thu Mar 26 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../../core/renderer\");\r\nvar devices = require(\"../../core/devices\");\r\nvar windowUtils = require(\"../../core/utils/window\");\r\nvar messageLocalization = require(\"../../localization/message\");\r\nvar registerComponent = require(\"../../core/component_registrator\");\r\nvar getPublicElement = require(\"../../core/utils/dom\").getPublicElement;\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar noop = require(\"../../core/utils/common\").noop;\r\nvar PullDownStrategy = require(\"./ui.scroll_view.native.pull_down\");\r\nvar SwipeDownStrategy = require(\"./ui.scroll_view.native.swipe_down\");\r\nvar SimulatedStrategy = require(\"./ui.scroll_view.simulated\");\r\nvar Scrollable = require(\"./ui.scrollable\");\r\nvar LoadIndicator = require(\"../load_indicator\");\r\nvar themes = require(\"./../themes\");\r\nvar LoadPanel = require(\"../load_panel\");\r\nvar SCROLLVIEW_CLASS = \"dx-scrollview\";\r\nvar SCROLLVIEW_CONTENT_CLASS = SCROLLVIEW_CLASS + \"-content\";\r\nvar SCROLLVIEW_TOP_POCKET_CLASS = SCROLLVIEW_CLASS + \"-top-pocket\";\r\nvar SCROLLVIEW_BOTTOM_POCKET_CLASS = SCROLLVIEW_CLASS + \"-bottom-pocket\";\r\nvar SCROLLVIEW_PULLDOWN_CLASS = SCROLLVIEW_CLASS + \"-pull-down\";\r\nvar SCROLLVIEW_REACHBOTTOM_CLASS = SCROLLVIEW_CLASS + \"-scrollbottom\";\r\nvar SCROLLVIEW_REACHBOTTOM_INDICATOR_CLASS = SCROLLVIEW_REACHBOTTOM_CLASS + \"-indicator\";\r\nvar SCROLLVIEW_REACHBOTTOM_TEXT_CLASS = SCROLLVIEW_REACHBOTTOM_CLASS + \"-text\";\r\nvar SCROLLVIEW_LOADPANEL = SCROLLVIEW_CLASS + \"-loadpanel\";\r\nvar refreshStrategies = {\r\n    pullDown: PullDownStrategy,\r\n    swipeDown: SwipeDownStrategy,\r\n    simulated: SimulatedStrategy\r\n};\r\nvar isServerSide = !windowUtils.hasWindow();\r\nvar scrollViewServerConfig = {\r\n    finishLoading: noop,\r\n    release: noop,\r\n    refresh: noop,\r\n    _optionChanged: function(args) {\r\n        if (\"onUpdated\" !== args.name) {\r\n            return this.callBase.apply(this, arguments)\r\n        }\r\n    }\r\n};\r\nvar ScrollView = Scrollable.inherit(isServerSide ? scrollViewServerConfig : {\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            pullingDownText: messageLocalization.format(\"dxScrollView-pullingDownText\"),\r\n            pulledDownText: messageLocalization.format(\"dxScrollView-pulledDownText\"),\r\n            refreshingText: messageLocalization.format(\"dxScrollView-refreshingText\"),\r\n            reachBottomText: messageLocalization.format(\"dxScrollView-reachBottomText\"),\r\n            onPullDown: null,\r\n            onReachBottom: null,\r\n            refreshStrategy: \"pullDown\"\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                var realDevice = devices.real();\r\n                return \"android\" === realDevice.platform\r\n            },\r\n            options: {\r\n                refreshStrategy: \"swipeDown\"\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return themes.isMaterial()\r\n            },\r\n            options: {\r\n                pullingDownText: \"\",\r\n                pulledDownText: \"\",\r\n                refreshingText: \"\",\r\n                reachBottomText: \"\"\r\n            }\r\n        }])\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._loadingIndicatorEnabled = true\r\n    },\r\n    _initScrollableMarkup: function() {\r\n        this.callBase();\r\n        this.$element().addClass(SCROLLVIEW_CLASS);\r\n        this._initContent();\r\n        this._initTopPocket();\r\n        this._initBottomPocket();\r\n        this._initLoadPanel()\r\n    },\r\n    _initContent: function() {\r\n        var $content = $(\"<div>\").addClass(SCROLLVIEW_CONTENT_CLASS);\r\n        this._$content.wrapInner($content)\r\n    },\r\n    _initTopPocket: function() {\r\n        var $topPocket = this._$topPocket = $(\"<div>\").addClass(SCROLLVIEW_TOP_POCKET_CLASS);\r\n        var $pullDown = this._$pullDown = $(\"<div>\").addClass(SCROLLVIEW_PULLDOWN_CLASS);\r\n        $topPocket.append($pullDown);\r\n        this._$content.prepend($topPocket)\r\n    },\r\n    _initBottomPocket: function() {\r\n        var $bottomPocket = this._$bottomPocket = $(\"<div>\").addClass(SCROLLVIEW_BOTTOM_POCKET_CLASS);\r\n        var $reachBottom = this._$reachBottom = $(\"<div>\").addClass(SCROLLVIEW_REACHBOTTOM_CLASS);\r\n        var $loadContainer = $(\"<div>\").addClass(SCROLLVIEW_REACHBOTTOM_INDICATOR_CLASS);\r\n        var $loadIndicator = new LoadIndicator($(\"<div>\")).$element();\r\n        var $text = this._$reachBottomText = $(\"<div>\").addClass(SCROLLVIEW_REACHBOTTOM_TEXT_CLASS);\r\n        this._updateReachBottomText();\r\n        $reachBottom.append($loadContainer.append($loadIndicator)).append($text);\r\n        $bottomPocket.append($reachBottom);\r\n        this._$content.append($bottomPocket)\r\n    },\r\n    _initLoadPanel: function() {\r\n        var $loadPanelElement = $(\"<div>\").addClass(SCROLLVIEW_LOADPANEL).appendTo(this.$element());\r\n        var loadPanelOptions = {\r\n            shading: false,\r\n            delay: 400,\r\n            message: this.option(\"refreshingText\"),\r\n            position: {\r\n                of: this.$element()\r\n            }\r\n        };\r\n        this._loadPanel = this._createComponent($loadPanelElement, LoadPanel, loadPanelOptions)\r\n    },\r\n    _updateReachBottomText: function() {\r\n        this._$reachBottomText.text(this.option(\"reachBottomText\"))\r\n    },\r\n    _createStrategy: function() {\r\n        var strategyName = this.option(\"useNative\") ? this.option(\"refreshStrategy\") : \"simulated\";\r\n        var strategyClass = refreshStrategies[strategyName];\r\n        if (!strategyClass) {\r\n            throw Error(\"E1030\", this.option(\"refreshStrategy\"))\r\n        }\r\n        this._strategy = new strategyClass(this);\r\n        this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this));\r\n        this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this));\r\n        this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this))\r\n    },\r\n    _createActions: function() {\r\n        this.callBase();\r\n        this._pullDownAction = this._createActionByOption(\"onPullDown\");\r\n        this._reachBottomAction = this._createActionByOption(\"onReachBottom\");\r\n        this._tryRefreshPocketState()\r\n    },\r\n    _tryRefreshPocketState: function() {\r\n        this._pullDownEnable(this.hasActionSubscription(\"onPullDown\"));\r\n        this._reachBottomEnable(this.hasActionSubscription(\"onReachBottom\"))\r\n    },\r\n    on: function(eventName) {\r\n        var result = this.callBase.apply(this, arguments);\r\n        if (\"pullDown\" === eventName || \"reachBottom\" === eventName) {\r\n            this._tryRefreshPocketState()\r\n        }\r\n        return result\r\n    },\r\n    _pullDownEnable: function(enabled) {\r\n        if (0 === arguments.length) {\r\n            return this._pullDownEnabled\r\n        }\r\n        if (this._$pullDown && this._strategy) {\r\n            this._$pullDown.toggle(enabled);\r\n            this._strategy.pullDownEnable(enabled);\r\n            this._pullDownEnabled = enabled\r\n        }\r\n    },\r\n    _reachBottomEnable: function(enabled) {\r\n        if (0 === arguments.length) {\r\n            return this._reachBottomEnabled\r\n        }\r\n        if (this._$reachBottom && this._strategy) {\r\n            this._$reachBottom.toggle(enabled);\r\n            this._strategy.reachBottomEnable(enabled);\r\n            this._reachBottomEnabled = enabled\r\n        }\r\n    },\r\n    _pullDownHandler: function() {\r\n        this._loadingIndicator(false);\r\n        this._pullDownLoading()\r\n    },\r\n    _loadingIndicator: function(value) {\r\n        if (arguments.length < 1) {\r\n            return this._loadingIndicatorEnabled\r\n        }\r\n        this._loadingIndicatorEnabled = value\r\n    },\r\n    _pullDownLoading: function() {\r\n        this.startLoading();\r\n        this._pullDownAction()\r\n    },\r\n    _reachBottomHandler: function() {\r\n        this._loadingIndicator(false);\r\n        this._reachBottomLoading()\r\n    },\r\n    _reachBottomLoading: function() {\r\n        this.startLoading();\r\n        this._reachBottomAction()\r\n    },\r\n    _releaseHandler: function() {\r\n        this.finishLoading();\r\n        this._loadingIndicator(true)\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"onPullDown\":\r\n            case \"onReachBottom\":\r\n                this._createActions();\r\n                break;\r\n            case \"pullingDownText\":\r\n            case \"pulledDownText\":\r\n            case \"refreshingText\":\r\n            case \"refreshStrategy\":\r\n                this._invalidate();\r\n                break;\r\n            case \"reachBottomText\":\r\n                this._updateReachBottomText();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    isEmpty: function() {\r\n        return !$(this.content()).children().length\r\n    },\r\n    content: function() {\r\n        return getPublicElement(this._$content.children().eq(1))\r\n    },\r\n    release: function(preventReachBottom) {\r\n        if (void 0 !== preventReachBottom) {\r\n            this.toggleLoading(!preventReachBottom)\r\n        }\r\n        return this._strategy.release()\r\n    },\r\n    toggleLoading: function(showOrHide) {\r\n        this._reachBottomEnable(showOrHide)\r\n    },\r\n    isFull: function() {\r\n        return $(this.content()).height() > this._$container.height()\r\n    },\r\n    refresh: function() {\r\n        if (!this.hasActionSubscription(\"onPullDown\")) {\r\n            return\r\n        }\r\n        this._strategy.pendingRelease();\r\n        this._pullDownLoading()\r\n    },\r\n    startLoading: function() {\r\n        if (this._loadingIndicator() && this.$element().is(\":visible\")) {\r\n            this._loadPanel.show()\r\n        }\r\n        this._lock()\r\n    },\r\n    finishLoading: function() {\r\n        this._loadPanel.hide();\r\n        this._unlock()\r\n    },\r\n    _dispose: function() {\r\n        this._strategy.dispose();\r\n        this.callBase();\r\n        if (this._loadPanel) {\r\n            this._loadPanel.$element().remove()\r\n        }\r\n    }\r\n});\r\nregisterComponent(\"dxScrollView\", ScrollView);\r\nmodule.exports = ScrollView;\r\n"]},"metadata":{},"sourceType":"script"}