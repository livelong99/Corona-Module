{"ast":null,"code":"/**\r\n * DevExtreme (ui/multi_view.js)\r\n * Version: 19.2.7\r\n * Build date: Thu Mar 26 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _fx = require(\"../animation/fx\");\n\nvar _fx2 = _interopRequireDefault(_fx);\n\nvar _translator2 = require(\"../animation/translator\");\n\nvar _translator3 = _interopRequireDefault(_translator2);\n\nvar _math = require(\"../core/utils/math\");\n\nvar _math2 = _interopRequireDefault(_math);\n\nvar _extend = require(\"../core/utils/extend\");\n\nvar _common = require(\"../core/utils/common\");\n\nvar _dom = require(\"../core/utils/dom\");\n\nvar _type = require(\"../core/utils/type\");\n\nvar _devices = require(\"../core/devices\");\n\nvar _devices2 = _interopRequireDefault(_devices);\n\nvar _component_registrator = require(\"../core/component_registrator\");\n\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\n\nvar _uiCollection_widget = require(\"./collection/ui.collection_widget.live_update\");\n\nvar _uiCollection_widget2 = _interopRequireDefault(_uiCollection_widget);\n\nvar _swipeable = require(\"../events/gesture/swipeable\");\n\nvar _swipeable2 = _interopRequireDefault(_swipeable);\n\nvar _deferred = require(\"../core/utils/deferred\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar MULTIVIEW_CLASS = \"dx-multiview\";\nvar MULTIVIEW_WRAPPER_CLASS = \"dx-multiview-wrapper\";\nvar MULTIVIEW_ITEM_CONTAINER_CLASS = \"dx-multiview-item-container\";\nvar MULTIVIEW_ITEM_CLASS = \"dx-multiview-item\";\nvar MULTIVIEW_ITEM_HIDDEN_CLASS = \"dx-multiview-item-hidden\";\nvar MULTIVIEW_ITEM_DATA_KEY = \"dxMultiViewItemData\";\nvar MULTIVIEW_ANIMATION_DURATION = 200;\n\nvar toNumber = function toNumber(value) {\n  return +value;\n};\n\nvar position = function position($element) {\n  return _translator3.default.locate($element).left;\n};\n\nvar _translator = {\n  move: function move($element, position) {\n    _translator3.default.move($element, {\n      left: position\n    });\n  }\n};\nvar animation = {\n  moveTo: function moveTo($element, position, duration, completeAction) {\n    _fx2.default.animate($element, {\n      type: \"slide\",\n      to: {\n        left: position\n      },\n      duration: duration,\n      complete: completeAction\n    });\n  },\n  complete: function complete($element) {\n    _fx2.default.stop($element, true);\n  }\n};\n\nvar MultiView = _uiCollection_widget2.default.inherit({\n  _activeStateUnit: \".\" + MULTIVIEW_ITEM_CLASS,\n  _supportedKeys: function _supportedKeys() {\n    return (0, _extend.extend)(this.callBase(), {\n      pageUp: _common.noop,\n      pageDown: _common.noop\n    });\n  },\n  _getDefaultOptions: function _getDefaultOptions() {\n    return (0, _extend.extend)(this.callBase(), {\n      selectedIndex: 0,\n      swipeEnabled: true,\n      animationEnabled: true,\n      loop: false,\n      deferRendering: true,\n      _itemAttributes: {\n        role: \"tabpanel\"\n      },\n      loopItemFocus: false,\n      selectOnFocus: true,\n      selectionMode: \"single\",\n      selectionRequired: true,\n      selectionByClick: false\n    });\n  },\n  _defaultOptionsRules: function _defaultOptionsRules() {\n    return this.callBase().concat([{\n      device: function device() {\n        return \"desktop\" === _devices2.default.real().deviceType && !_devices2.default.isSimulator();\n      },\n      options: {\n        focusStateEnabled: true\n      }\n    }]);\n  },\n  _itemClass: function _itemClass() {\n    return MULTIVIEW_ITEM_CLASS;\n  },\n  _itemDataKey: function _itemDataKey() {\n    return MULTIVIEW_ITEM_DATA_KEY;\n  },\n  _itemContainer: function _itemContainer() {\n    return this._$itemContainer;\n  },\n  _itemElements: function _itemElements() {\n    return this._itemContainer().children(this._itemSelector());\n  },\n  _itemWidth: function _itemWidth() {\n    if (!this._itemWidthValue) {\n      this._itemWidthValue = this._$wrapper.width();\n    }\n\n    return this._itemWidthValue;\n  },\n  _clearItemWidthCache: function _clearItemWidthCache() {\n    delete this._itemWidthValue;\n  },\n  _itemsCount: function _itemsCount() {\n    return this.option(\"items\").length;\n  },\n  _normalizeIndex: function _normalizeIndex(index) {\n    var count = this._itemsCount();\n\n    if (index < 0) {\n      index += count;\n    }\n\n    if (index >= count) {\n      index -= count;\n    }\n\n    return index;\n  },\n  _getRTLSignCorrection: function _getRTLSignCorrection() {\n    return this.option(\"rtlEnabled\") ? -1 : 1;\n  },\n  _init: function _init() {\n    this.callBase.apply(this, arguments);\n    var $element = this.$element();\n    $element.addClass(MULTIVIEW_CLASS);\n    this._$wrapper = (0, _renderer2.default)(\"<div>\").addClass(MULTIVIEW_WRAPPER_CLASS);\n\n    this._$wrapper.appendTo($element);\n\n    this._$itemContainer = (0, _renderer2.default)(\"<div>\").addClass(MULTIVIEW_ITEM_CONTAINER_CLASS);\n\n    this._$itemContainer.appendTo(this._$wrapper);\n\n    this.option(\"loopItemFocus\", this.option(\"loop\"));\n\n    this._initSwipeable();\n  },\n  _initMarkup: function _initMarkup() {\n    this._deferredItems = [];\n    this.callBase();\n\n    var selectedItemIndices = this._getSelectedItemIndices();\n\n    this._updateItemsVisibility(selectedItemIndices[0]);\n  },\n  _afterItemElementDeleted: function _afterItemElementDeleted($item, deletedActionArgs) {\n    this.callBase($item, deletedActionArgs);\n\n    if (this._deferredItems) {\n      this._deferredItems.splice(deletedActionArgs.itemIndex, 1);\n    }\n  },\n  _beforeItemElementInserted: function _beforeItemElementInserted(change) {\n    this.callBase.apply(this, arguments);\n\n    if (this._deferredItems) {\n      this._deferredItems.splice(change.index, 0, null);\n    }\n  },\n  _executeItemRenderAction: function _executeItemRenderAction(index, itemData, itemElement) {\n    index = (this.option(\"items\") || []).indexOf(itemData);\n    this.callBase(index, itemData, itemElement);\n  },\n  _renderItemContent: function _renderItemContent(args) {\n    var renderContentDeferred = new _deferred.Deferred();\n    var that = this;\n    var callBase = this.callBase;\n    var deferred = new _deferred.Deferred();\n    deferred.done(function () {\n      var $itemContent = callBase.call(that, args);\n      renderContentDeferred.resolve($itemContent);\n    });\n    this._deferredItems[args.index] = deferred;\n    this.option(\"deferRendering\") || deferred.resolve();\n    return renderContentDeferred.promise();\n  },\n  _render: function _render() {\n    var _this = this;\n\n    this.callBase();\n    (0, _common.deferRender)(function () {\n      var selectedItemIndices = _this._getSelectedItemIndices();\n\n      _this._updateItems(selectedItemIndices[0]);\n    });\n  },\n  _updateItems: function _updateItems(selectedIndex, newIndex) {\n    this._updateItemsPosition(selectedIndex, newIndex);\n\n    this._updateItemsVisibility(selectedIndex, newIndex);\n  },\n  _modifyByChanges: function _modifyByChanges() {\n    this.callBase.apply(this, arguments);\n\n    var selectedItemIndices = this._getSelectedItemIndices();\n\n    this._updateItemsVisibility(selectedItemIndices[0]);\n  },\n  _updateItemsPosition: function _updateItemsPosition(selectedIndex, newIndex) {\n    var $itemElements = this._itemElements();\n\n    var positionSign = (0, _type.isDefined)(newIndex) ? -this._animationDirection(newIndex, selectedIndex) : void 0;\n    var $selectedItem = $itemElements.eq(selectedIndex);\n\n    _translator.move($selectedItem, 0);\n\n    if ((0, _type.isDefined)(newIndex)) {\n      _translator.move($itemElements.eq(newIndex), 100 * positionSign + \"%\");\n    }\n  },\n  _updateItemsVisibility: function _updateItemsVisibility(selectedIndex, newIndex) {\n    var $itemElements = this._itemElements();\n\n    $itemElements.each(function (itemIndex, item) {\n      var $item = (0, _renderer2.default)(item);\n      var isHidden = itemIndex !== selectedIndex && itemIndex !== newIndex;\n\n      if (!isHidden) {\n        this._renderSpecificItem(itemIndex);\n      }\n\n      $item.toggleClass(MULTIVIEW_ITEM_HIDDEN_CLASS, isHidden);\n      this.setAria(\"hidden\", isHidden || void 0, $item);\n    }.bind(this));\n  },\n  _renderSpecificItem: function _renderSpecificItem(index) {\n    var $item = this._itemElements().eq(index);\n\n    var hasItemContent = $item.find(this._itemContentClass()).length > 0;\n\n    if ((0, _type.isDefined)(index) && !hasItemContent) {\n      this._deferredItems[index].resolve();\n\n      (0, _dom.triggerResizeEvent)($item);\n    }\n  },\n  _refreshItem: function _refreshItem($item, item) {\n    this.callBase($item, item);\n\n    this._updateItemsVisibility(this.option(\"selectedIndex\"));\n  },\n  _setAriaSelected: _common.noop,\n  _updateSelection: function _updateSelection(addedSelection, removedSelection) {\n    var newIndex = addedSelection[0];\n    var prevIndex = removedSelection[0];\n    animation.complete(this._$itemContainer);\n\n    this._updateItems(prevIndex, newIndex);\n\n    var animationDirection = this._animationDirection(newIndex, prevIndex);\n\n    this._animateItemContainer(animationDirection * this._itemWidth(), function () {\n      _translator.move(this._$itemContainer, 0);\n\n      this._updateItems(newIndex);\n\n      this._$itemContainer.width();\n    }.bind(this));\n  },\n  _animateItemContainer: function _animateItemContainer(position, completeCallback) {\n    var duration = this.option(\"animationEnabled\") ? MULTIVIEW_ANIMATION_DURATION : 0;\n    animation.moveTo(this._$itemContainer, position, duration, completeCallback);\n  },\n  _animationDirection: function _animationDirection(newIndex, prevIndex) {\n    var containerPosition = position(this._$itemContainer);\n\n    var indexDifference = (prevIndex - newIndex) * this._getRTLSignCorrection() * this._getItemFocusLoopSignCorrection();\n\n    var isSwipePresent = 0 !== containerPosition;\n    var directionSignVariable = isSwipePresent ? containerPosition : indexDifference;\n    return _math2.default.sign(directionSignVariable);\n  },\n  _getSwipeDisabledState: function _getSwipeDisabledState() {\n    return !this.option(\"swipeEnabled\") || this._itemsCount() <= 1;\n  },\n  _initSwipeable: function _initSwipeable() {\n    var _this2 = this;\n\n    this._createComponent(this.$element(), _swipeable2.default, {\n      disabled: this._getSwipeDisabledState(),\n      elastic: false,\n      itemSizeFunc: this._itemWidth.bind(this),\n      onStart: function onStart(args) {\n        return _this2._swipeStartHandler(args.event);\n      },\n      onUpdated: function onUpdated(args) {\n        return _this2._swipeUpdateHandler(args.event);\n      },\n      onEnd: function onEnd(args) {\n        return _this2._swipeEndHandler(args.event);\n      }\n    });\n  },\n  _swipeStartHandler: function _swipeStartHandler(e) {\n    animation.complete(this._$itemContainer);\n    var selectedIndex = this.option(\"selectedIndex\");\n    var loop = this.option(\"loop\");\n    var lastIndex = this._itemsCount() - 1;\n    var rtl = this.option(\"rtlEnabled\");\n    e.maxLeftOffset = toNumber(loop || (rtl ? selectedIndex > 0 : selectedIndex < lastIndex));\n    e.maxRightOffset = toNumber(loop || (rtl ? selectedIndex < lastIndex : selectedIndex > 0));\n    this._swipeDirection = null;\n  },\n  _swipeUpdateHandler: function _swipeUpdateHandler(e) {\n    var offset = e.offset;\n\n    var swipeDirection = _math2.default.sign(offset) * this._getRTLSignCorrection();\n\n    _translator.move(this._$itemContainer, offset * this._itemWidth());\n\n    if (swipeDirection !== this._swipeDirection) {\n      this._swipeDirection = swipeDirection;\n      var selectedIndex = this.option(\"selectedIndex\");\n\n      var newIndex = this._normalizeIndex(selectedIndex - swipeDirection);\n\n      this._updateItems(selectedIndex, newIndex);\n    }\n  },\n  _swipeEndHandler: function _swipeEndHandler(e) {\n    var targetOffset = e.targetOffset * this._getRTLSignCorrection();\n\n    if (targetOffset) {\n      this.option(\"selectedIndex\", this._normalizeIndex(this.option(\"selectedIndex\") - targetOffset));\n      var $selectedElement = this.itemElements().filter(\".dx-item-selected\");\n      this.option(\"focusStateEnabled\") && this.option(\"focusedElement\", (0, _dom.getPublicElement)($selectedElement));\n    } else {\n      this._animateItemContainer(0, _common.noop);\n    }\n  },\n  _getItemFocusLoopSignCorrection: function _getItemFocusLoopSignCorrection() {\n    return this._itemFocusLooped ? -1 : 1;\n  },\n  _moveFocus: function _moveFocus() {\n    this.callBase.apply(this, arguments);\n    this._itemFocusLooped = false;\n  },\n  _prevItem: function _prevItem($items) {\n    var $result = this.callBase.apply(this, arguments);\n    this._itemFocusLooped = $result.is($items.last());\n    return $result;\n  },\n  _nextItem: function _nextItem($items) {\n    var $result = this.callBase.apply(this, arguments);\n    this._itemFocusLooped = $result.is($items.first());\n    return $result;\n  },\n  _dimensionChanged: function _dimensionChanged() {\n    this._clearItemWidthCache();\n  },\n  _visibilityChanged: function _visibilityChanged(visible) {\n    if (visible) {\n      this._dimensionChanged();\n    }\n  },\n  _updateSwipeDisabledState: function _updateSwipeDisabledState() {\n    var disabled = this._getSwipeDisabledState();\n\n    _swipeable2.default.getInstance(this.$element()).option(\"disabled\", disabled);\n  },\n  _optionChanged: function _optionChanged(args) {\n    var value = args.value;\n\n    switch (args.name) {\n      case \"loop\":\n        this.option(\"loopItemFocus\", value);\n        break;\n\n      case \"animationEnabled\":\n        break;\n\n      case \"swipeEnabled\":\n        this._updateSwipeDisabledState();\n\n        break;\n\n      case \"deferRendering\":\n        this._invalidate();\n\n        break;\n\n      case \"items\":\n        this._updateSwipeDisabledState();\n\n        this.callBase(args);\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  }\n});\n\n(0, _component_registrator2.default)(\"dxMultiView\", MultiView);\nmodule.exports = MultiView;\nmodule.exports.default = module.exports;","map":{"version":3,"sources":["C:/Users/va112/Documents/Webdev/React/Corona/node_modules/devextreme/ui/multi_view.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_fx","_fx2","_translator2","_translator3","_math","_math2","_extend","_common","_dom","_type","_devices","_devices2","_component_registrator","_component_registrator2","_uiCollection_widget","_uiCollection_widget2","_swipeable","_swipeable2","_deferred","obj","__esModule","MULTIVIEW_CLASS","MULTIVIEW_WRAPPER_CLASS","MULTIVIEW_ITEM_CONTAINER_CLASS","MULTIVIEW_ITEM_CLASS","MULTIVIEW_ITEM_HIDDEN_CLASS","MULTIVIEW_ITEM_DATA_KEY","MULTIVIEW_ANIMATION_DURATION","toNumber","value","position","$element","default","locate","left","_translator","move","animation","moveTo","duration","completeAction","animate","type","to","complete","stop","MultiView","inherit","_activeStateUnit","_supportedKeys","extend","callBase","pageUp","noop","pageDown","_getDefaultOptions","selectedIndex","swipeEnabled","animationEnabled","loop","deferRendering","_itemAttributes","role","loopItemFocus","selectOnFocus","selectionMode","selectionRequired","selectionByClick","_defaultOptionsRules","concat","device","real","deviceType","isSimulator","options","focusStateEnabled","_itemClass","_itemDataKey","_itemContainer","_$itemContainer","_itemElements","children","_itemSelector","_itemWidth","_itemWidthValue","_$wrapper","width","_clearItemWidthCache","_itemsCount","option","length","_normalizeIndex","index","count","_getRTLSignCorrection","_init","apply","arguments","addClass","appendTo","_initSwipeable","_initMarkup","_deferredItems","selectedItemIndices","_getSelectedItemIndices","_updateItemsVisibility","_afterItemElementDeleted","$item","deletedActionArgs","splice","itemIndex","_beforeItemElementInserted","change","_executeItemRenderAction","itemData","itemElement","indexOf","_renderItemContent","args","renderContentDeferred","Deferred","that","deferred","done","$itemContent","call","resolve","promise","_render","_this","deferRender","_updateItems","newIndex","_updateItemsPosition","_modifyByChanges","$itemElements","positionSign","isDefined","_animationDirection","$selectedItem","eq","each","item","isHidden","_renderSpecificItem","toggleClass","setAria","bind","hasItemContent","find","_itemContentClass","triggerResizeEvent","_refreshItem","_setAriaSelected","_updateSelection","addedSelection","removedSelection","prevIndex","animationDirection","_animateItemContainer","completeCallback","containerPosition","indexDifference","_getItemFocusLoopSignCorrection","isSwipePresent","directionSignVariable","sign","_getSwipeDisabledState","_this2","_createComponent","disabled","elastic","itemSizeFunc","onStart","_swipeStartHandler","event","onUpdated","_swipeUpdateHandler","onEnd","_swipeEndHandler","e","lastIndex","rtl","maxLeftOffset","maxRightOffset","_swipeDirection","offset","swipeDirection","targetOffset","$selectedElement","itemElements","filter","getPublicElement","_itemFocusLooped","_moveFocus","_prevItem","$items","$result","is","last","_nextItem","first","_dimensionChanged","_visibilityChanged","visible","_updateSwipeDisabledState","getInstance","_optionChanged","name","_invalidate","module","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/multi_view.js)\r\n * Version: 19.2.7\r\n * Build date: Thu Mar 26 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _fx = require(\"../animation/fx\");\r\nvar _fx2 = _interopRequireDefault(_fx);\r\nvar _translator2 = require(\"../animation/translator\");\r\nvar _translator3 = _interopRequireDefault(_translator2);\r\nvar _math = require(\"../core/utils/math\");\r\nvar _math2 = _interopRequireDefault(_math);\r\nvar _extend = require(\"../core/utils/extend\");\r\nvar _common = require(\"../core/utils/common\");\r\nvar _dom = require(\"../core/utils/dom\");\r\nvar _type = require(\"../core/utils/type\");\r\nvar _devices = require(\"../core/devices\");\r\nvar _devices2 = _interopRequireDefault(_devices);\r\nvar _component_registrator = require(\"../core/component_registrator\");\r\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\r\nvar _uiCollection_widget = require(\"./collection/ui.collection_widget.live_update\");\r\nvar _uiCollection_widget2 = _interopRequireDefault(_uiCollection_widget);\r\nvar _swipeable = require(\"../events/gesture/swipeable\");\r\nvar _swipeable2 = _interopRequireDefault(_swipeable);\r\nvar _deferred = require(\"../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar MULTIVIEW_CLASS = \"dx-multiview\";\r\nvar MULTIVIEW_WRAPPER_CLASS = \"dx-multiview-wrapper\";\r\nvar MULTIVIEW_ITEM_CONTAINER_CLASS = \"dx-multiview-item-container\";\r\nvar MULTIVIEW_ITEM_CLASS = \"dx-multiview-item\";\r\nvar MULTIVIEW_ITEM_HIDDEN_CLASS = \"dx-multiview-item-hidden\";\r\nvar MULTIVIEW_ITEM_DATA_KEY = \"dxMultiViewItemData\";\r\nvar MULTIVIEW_ANIMATION_DURATION = 200;\r\nvar toNumber = function(value) {\r\n    return +value\r\n};\r\nvar position = function($element) {\r\n    return _translator3.default.locate($element).left\r\n};\r\nvar _translator = {\r\n    move: function($element, position) {\r\n        _translator3.default.move($element, {\r\n            left: position\r\n        })\r\n    }\r\n};\r\nvar animation = {\r\n    moveTo: function($element, position, duration, completeAction) {\r\n        _fx2.default.animate($element, {\r\n            type: \"slide\",\r\n            to: {\r\n                left: position\r\n            },\r\n            duration: duration,\r\n            complete: completeAction\r\n        })\r\n    },\r\n    complete: function($element) {\r\n        _fx2.default.stop($element, true)\r\n    }\r\n};\r\nvar MultiView = _uiCollection_widget2.default.inherit({\r\n    _activeStateUnit: \".\" + MULTIVIEW_ITEM_CLASS,\r\n    _supportedKeys: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            pageUp: _common.noop,\r\n            pageDown: _common.noop\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            selectedIndex: 0,\r\n            swipeEnabled: true,\r\n            animationEnabled: true,\r\n            loop: false,\r\n            deferRendering: true,\r\n            _itemAttributes: {\r\n                role: \"tabpanel\"\r\n            },\r\n            loopItemFocus: false,\r\n            selectOnFocus: true,\r\n            selectionMode: \"single\",\r\n            selectionRequired: true,\r\n            selectionByClick: false\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" === _devices2.default.real().deviceType && !_devices2.default.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }])\r\n    },\r\n    _itemClass: function() {\r\n        return MULTIVIEW_ITEM_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return MULTIVIEW_ITEM_DATA_KEY\r\n    },\r\n    _itemContainer: function() {\r\n        return this._$itemContainer\r\n    },\r\n    _itemElements: function() {\r\n        return this._itemContainer().children(this._itemSelector())\r\n    },\r\n    _itemWidth: function() {\r\n        if (!this._itemWidthValue) {\r\n            this._itemWidthValue = this._$wrapper.width()\r\n        }\r\n        return this._itemWidthValue\r\n    },\r\n    _clearItemWidthCache: function() {\r\n        delete this._itemWidthValue\r\n    },\r\n    _itemsCount: function() {\r\n        return this.option(\"items\").length\r\n    },\r\n    _normalizeIndex: function(index) {\r\n        var count = this._itemsCount();\r\n        if (index < 0) {\r\n            index += count\r\n        }\r\n        if (index >= count) {\r\n            index -= count\r\n        }\r\n        return index\r\n    },\r\n    _getRTLSignCorrection: function() {\r\n        return this.option(\"rtlEnabled\") ? -1 : 1\r\n    },\r\n    _init: function() {\r\n        this.callBase.apply(this, arguments);\r\n        var $element = this.$element();\r\n        $element.addClass(MULTIVIEW_CLASS);\r\n        this._$wrapper = (0, _renderer2.default)(\"<div>\").addClass(MULTIVIEW_WRAPPER_CLASS);\r\n        this._$wrapper.appendTo($element);\r\n        this._$itemContainer = (0, _renderer2.default)(\"<div>\").addClass(MULTIVIEW_ITEM_CONTAINER_CLASS);\r\n        this._$itemContainer.appendTo(this._$wrapper);\r\n        this.option(\"loopItemFocus\", this.option(\"loop\"));\r\n        this._initSwipeable()\r\n    },\r\n    _initMarkup: function() {\r\n        this._deferredItems = [];\r\n        this.callBase();\r\n        var selectedItemIndices = this._getSelectedItemIndices();\r\n        this._updateItemsVisibility(selectedItemIndices[0])\r\n    },\r\n    _afterItemElementDeleted: function($item, deletedActionArgs) {\r\n        this.callBase($item, deletedActionArgs);\r\n        if (this._deferredItems) {\r\n            this._deferredItems.splice(deletedActionArgs.itemIndex, 1)\r\n        }\r\n    },\r\n    _beforeItemElementInserted: function(change) {\r\n        this.callBase.apply(this, arguments);\r\n        if (this._deferredItems) {\r\n            this._deferredItems.splice(change.index, 0, null)\r\n        }\r\n    },\r\n    _executeItemRenderAction: function(index, itemData, itemElement) {\r\n        index = (this.option(\"items\") || []).indexOf(itemData);\r\n        this.callBase(index, itemData, itemElement)\r\n    },\r\n    _renderItemContent: function(args) {\r\n        var renderContentDeferred = new _deferred.Deferred;\r\n        var that = this;\r\n        var callBase = this.callBase;\r\n        var deferred = new _deferred.Deferred;\r\n        deferred.done(function() {\r\n            var $itemContent = callBase.call(that, args);\r\n            renderContentDeferred.resolve($itemContent)\r\n        });\r\n        this._deferredItems[args.index] = deferred;\r\n        this.option(\"deferRendering\") || deferred.resolve();\r\n        return renderContentDeferred.promise()\r\n    },\r\n    _render: function() {\r\n        var _this = this;\r\n        this.callBase();\r\n        (0, _common.deferRender)(function() {\r\n            var selectedItemIndices = _this._getSelectedItemIndices();\r\n            _this._updateItems(selectedItemIndices[0])\r\n        })\r\n    },\r\n    _updateItems: function(selectedIndex, newIndex) {\r\n        this._updateItemsPosition(selectedIndex, newIndex);\r\n        this._updateItemsVisibility(selectedIndex, newIndex)\r\n    },\r\n    _modifyByChanges: function() {\r\n        this.callBase.apply(this, arguments);\r\n        var selectedItemIndices = this._getSelectedItemIndices();\r\n        this._updateItemsVisibility(selectedItemIndices[0])\r\n    },\r\n    _updateItemsPosition: function(selectedIndex, newIndex) {\r\n        var $itemElements = this._itemElements();\r\n        var positionSign = (0, _type.isDefined)(newIndex) ? -this._animationDirection(newIndex, selectedIndex) : void 0;\r\n        var $selectedItem = $itemElements.eq(selectedIndex);\r\n        _translator.move($selectedItem, 0);\r\n        if ((0, _type.isDefined)(newIndex)) {\r\n            _translator.move($itemElements.eq(newIndex), 100 * positionSign + \"%\")\r\n        }\r\n    },\r\n    _updateItemsVisibility: function(selectedIndex, newIndex) {\r\n        var $itemElements = this._itemElements();\r\n        $itemElements.each(function(itemIndex, item) {\r\n            var $item = (0, _renderer2.default)(item);\r\n            var isHidden = itemIndex !== selectedIndex && itemIndex !== newIndex;\r\n            if (!isHidden) {\r\n                this._renderSpecificItem(itemIndex)\r\n            }\r\n            $item.toggleClass(MULTIVIEW_ITEM_HIDDEN_CLASS, isHidden);\r\n            this.setAria(\"hidden\", isHidden || void 0, $item)\r\n        }.bind(this))\r\n    },\r\n    _renderSpecificItem: function(index) {\r\n        var $item = this._itemElements().eq(index);\r\n        var hasItemContent = $item.find(this._itemContentClass()).length > 0;\r\n        if ((0, _type.isDefined)(index) && !hasItemContent) {\r\n            this._deferredItems[index].resolve();\r\n            (0, _dom.triggerResizeEvent)($item)\r\n        }\r\n    },\r\n    _refreshItem: function($item, item) {\r\n        this.callBase($item, item);\r\n        this._updateItemsVisibility(this.option(\"selectedIndex\"))\r\n    },\r\n    _setAriaSelected: _common.noop,\r\n    _updateSelection: function(addedSelection, removedSelection) {\r\n        var newIndex = addedSelection[0];\r\n        var prevIndex = removedSelection[0];\r\n        animation.complete(this._$itemContainer);\r\n        this._updateItems(prevIndex, newIndex);\r\n        var animationDirection = this._animationDirection(newIndex, prevIndex);\r\n        this._animateItemContainer(animationDirection * this._itemWidth(), function() {\r\n            _translator.move(this._$itemContainer, 0);\r\n            this._updateItems(newIndex);\r\n            this._$itemContainer.width()\r\n        }.bind(this))\r\n    },\r\n    _animateItemContainer: function(position, completeCallback) {\r\n        var duration = this.option(\"animationEnabled\") ? MULTIVIEW_ANIMATION_DURATION : 0;\r\n        animation.moveTo(this._$itemContainer, position, duration, completeCallback)\r\n    },\r\n    _animationDirection: function(newIndex, prevIndex) {\r\n        var containerPosition = position(this._$itemContainer);\r\n        var indexDifference = (prevIndex - newIndex) * this._getRTLSignCorrection() * this._getItemFocusLoopSignCorrection();\r\n        var isSwipePresent = 0 !== containerPosition;\r\n        var directionSignVariable = isSwipePresent ? containerPosition : indexDifference;\r\n        return _math2.default.sign(directionSignVariable)\r\n    },\r\n    _getSwipeDisabledState: function() {\r\n        return !this.option(\"swipeEnabled\") || this._itemsCount() <= 1\r\n    },\r\n    _initSwipeable: function() {\r\n        var _this2 = this;\r\n        this._createComponent(this.$element(), _swipeable2.default, {\r\n            disabled: this._getSwipeDisabledState(),\r\n            elastic: false,\r\n            itemSizeFunc: this._itemWidth.bind(this),\r\n            onStart: function(args) {\r\n                return _this2._swipeStartHandler(args.event)\r\n            },\r\n            onUpdated: function(args) {\r\n                return _this2._swipeUpdateHandler(args.event)\r\n            },\r\n            onEnd: function(args) {\r\n                return _this2._swipeEndHandler(args.event)\r\n            }\r\n        })\r\n    },\r\n    _swipeStartHandler: function(e) {\r\n        animation.complete(this._$itemContainer);\r\n        var selectedIndex = this.option(\"selectedIndex\");\r\n        var loop = this.option(\"loop\");\r\n        var lastIndex = this._itemsCount() - 1;\r\n        var rtl = this.option(\"rtlEnabled\");\r\n        e.maxLeftOffset = toNumber(loop || (rtl ? selectedIndex > 0 : selectedIndex < lastIndex));\r\n        e.maxRightOffset = toNumber(loop || (rtl ? selectedIndex < lastIndex : selectedIndex > 0));\r\n        this._swipeDirection = null\r\n    },\r\n    _swipeUpdateHandler: function(e) {\r\n        var offset = e.offset;\r\n        var swipeDirection = _math2.default.sign(offset) * this._getRTLSignCorrection();\r\n        _translator.move(this._$itemContainer, offset * this._itemWidth());\r\n        if (swipeDirection !== this._swipeDirection) {\r\n            this._swipeDirection = swipeDirection;\r\n            var selectedIndex = this.option(\"selectedIndex\");\r\n            var newIndex = this._normalizeIndex(selectedIndex - swipeDirection);\r\n            this._updateItems(selectedIndex, newIndex)\r\n        }\r\n    },\r\n    _swipeEndHandler: function(e) {\r\n        var targetOffset = e.targetOffset * this._getRTLSignCorrection();\r\n        if (targetOffset) {\r\n            this.option(\"selectedIndex\", this._normalizeIndex(this.option(\"selectedIndex\") - targetOffset));\r\n            var $selectedElement = this.itemElements().filter(\".dx-item-selected\");\r\n            this.option(\"focusStateEnabled\") && this.option(\"focusedElement\", (0, _dom.getPublicElement)($selectedElement))\r\n        } else {\r\n            this._animateItemContainer(0, _common.noop)\r\n        }\r\n    },\r\n    _getItemFocusLoopSignCorrection: function() {\r\n        return this._itemFocusLooped ? -1 : 1\r\n    },\r\n    _moveFocus: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._itemFocusLooped = false\r\n    },\r\n    _prevItem: function($items) {\r\n        var $result = this.callBase.apply(this, arguments);\r\n        this._itemFocusLooped = $result.is($items.last());\r\n        return $result\r\n    },\r\n    _nextItem: function($items) {\r\n        var $result = this.callBase.apply(this, arguments);\r\n        this._itemFocusLooped = $result.is($items.first());\r\n        return $result\r\n    },\r\n    _dimensionChanged: function() {\r\n        this._clearItemWidthCache()\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._dimensionChanged()\r\n        }\r\n    },\r\n    _updateSwipeDisabledState: function() {\r\n        var disabled = this._getSwipeDisabledState();\r\n        _swipeable2.default.getInstance(this.$element()).option(\"disabled\", disabled)\r\n    },\r\n    _optionChanged: function(args) {\r\n        var value = args.value;\r\n        switch (args.name) {\r\n            case \"loop\":\r\n                this.option(\"loopItemFocus\", value);\r\n                break;\r\n            case \"animationEnabled\":\r\n                break;\r\n            case \"swipeEnabled\":\r\n                this._updateSwipeDisabledState();\r\n                break;\r\n            case \"deferRendering\":\r\n                this._invalidate();\r\n                break;\r\n            case \"items\":\r\n                this._updateSwipeDisabledState();\r\n                this.callBase(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\n(0, _component_registrator2.default)(\"dxMultiView\", MultiView);\r\nmodule.exports = MultiView;\r\nmodule.exports.default = module.exports;\r\n"]},"metadata":{},"sourceType":"script"}