{"ast":null,"code":"/**\r\n * DevExtreme (ui/toolbar.js)\r\n * Version: 19.2.7\r\n * Build date: Thu Mar 26 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../core/renderer\");\n\nvar themes = require(\"./themes\");\n\nvar registerComponent = require(\"../core/component_registrator\");\n\nvar grep = require(\"../core/utils/common\").grep;\n\nvar extend = require(\"../core/utils/extend\").extend;\n\nvar arrayUtils = require(\"../core/utils/array\");\n\nvar iteratorUtils = require(\"../core/utils/iterator\");\n\nvar ActionSheetStrategy = require(\"./toolbar/ui.toolbar.strategy.action_sheet\");\n\nvar DropDownMenuStrategy = require(\"./toolbar/ui.toolbar.strategy.drop_down_menu\");\n\nvar ToolbarBase = require(\"./toolbar/ui.toolbar.base\");\n\nvar ChildDefaultTemplate = require(\"../core/templates/child_default_template\").ChildDefaultTemplate;\n\nvar STRATEGIES = {\n  actionSheet: ActionSheetStrategy,\n  dropDownMenu: DropDownMenuStrategy\n};\nvar TOOLBAR_AUTO_HIDE_ITEM_CLASS = \"dx-toolbar-item-auto-hide\";\nvar TOOLBAR_AUTO_HIDE_TEXT_CLASS = \"dx-toolbar-text-auto-hide\";\nvar TOOLBAR_HIDDEN_ITEM = \"dx-toolbar-item-invisible\";\nvar Toolbar = ToolbarBase.inherit({\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), {\n      menuItemTemplate: \"menuItem\",\n      submenuType: \"dropDownMenu\",\n      menuContainer: void 0\n    });\n  },\n  _defaultOptionsRules: function _defaultOptionsRules() {\n    var themeName = themes.current();\n    return this.callBase().concat([{\n      device: function device() {\n        return themes.isIos7(themeName);\n      },\n      options: {\n        submenuType: \"actionSheet\"\n      }\n    }]);\n  },\n  _dimensionChanged: function _dimensionChanged(dimension) {\n    if (\"height\" === dimension) {\n      return;\n    }\n\n    this._menuStrategy.toggleMenuVisibility(false, true);\n\n    this.callBase();\n\n    this._menuStrategy.renderMenuItems();\n  },\n  _initTemplates: function _initTemplates() {\n    this.callBase();\n    this._defaultTemplates.actionSheetItem = new ChildDefaultTemplate(\"item\");\n  },\n  _initMarkup: function _initMarkup() {\n    this.callBase();\n\n    this._renderMenu();\n  },\n  _postProcessRenderItems: function _postProcessRenderItems() {\n    this._hideOverflowItems();\n\n    this._menuStrategy._updateMenuVisibility();\n\n    this.callBase();\n\n    this._menuStrategy.renderMenuItems();\n  },\n  _renderItem: function _renderItem(index, item, itemContainer, $after) {\n    var itemElement = this.callBase(index, item, itemContainer, $after);\n\n    if (\"auto\" === item.locateInMenu) {\n      itemElement.addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS);\n    }\n\n    if (\"dxButton\" === item.widget && \"inMenu\" === item.showText) {\n      itemElement.toggleClass(TOOLBAR_AUTO_HIDE_TEXT_CLASS);\n    }\n\n    return itemElement;\n  },\n  _getItemsWidth: function _getItemsWidth() {\n    return this._getSummaryItemsWidth([this._$beforeSection, this._$centerSection, this._$afterSection]);\n  },\n  _hideOverflowItems: function _hideOverflowItems(elementWidth) {\n    var overflowItems = this.$element().find(\".\" + TOOLBAR_AUTO_HIDE_ITEM_CLASS);\n\n    if (!overflowItems.length) {\n      return;\n    }\n\n    elementWidth = elementWidth || this.$element().width();\n    $(overflowItems).removeClass(TOOLBAR_HIDDEN_ITEM);\n\n    var itemsWidth = this._getItemsWidth();\n\n    while (overflowItems.length && elementWidth < itemsWidth) {\n      var $item = overflowItems.eq(-1);\n      itemsWidth -= $item.outerWidth();\n      $item.addClass(TOOLBAR_HIDDEN_ITEM);\n      overflowItems.splice(-1, 1);\n    }\n  },\n  _getMenuItems: function _getMenuItems() {\n    var that = this;\n    var menuItems = grep(this.option(\"items\") || [], function (item) {\n      return that._isMenuItem(item);\n    });\n\n    var $hiddenItems = this._itemContainer().children(\".\" + TOOLBAR_AUTO_HIDE_ITEM_CLASS + \".\" + TOOLBAR_HIDDEN_ITEM).not(\".dx-state-invisible\");\n\n    this._restoreItems = this._restoreItems || [];\n    var overflowItems = [].slice.call($hiddenItems).map(function (item) {\n      var itemData = that._getItemData(item);\n\n      var $itemContainer = $(item).children();\n      var $itemMarkup = $itemContainer.children();\n      return extend({\n        menuItemTemplate: function menuItemTemplate() {\n          that._restoreItems.push({\n            container: $itemContainer,\n            item: $itemMarkup\n          });\n\n          var $container = $(\"<div>\").addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS);\n          return $container.append($itemMarkup);\n        }\n      }, itemData);\n    });\n    return arrayUtils.merge(overflowItems, menuItems);\n  },\n  _getToolbarItems: function _getToolbarItems() {\n    var that = this;\n    return grep(this.option(\"items\") || [], function (item) {\n      return !that._isMenuItem(item);\n    });\n  },\n  _renderMenu: function _renderMenu() {\n    this._renderMenuStrategy();\n\n    this._menuStrategy.render();\n  },\n  _renderMenuStrategy: function _renderMenuStrategy() {\n    var strategyName = this.option(\"submenuType\");\n\n    if (this._requireDropDownStrategy()) {\n      strategyName = \"dropDownMenu\";\n    }\n\n    var strategy = STRATEGIES[strategyName];\n\n    if (!(this._menuStrategy && this._menuStrategy.NAME === strategyName)) {\n      this._menuStrategy = new strategy(this);\n    }\n  },\n  _requireDropDownStrategy: function _requireDropDownStrategy() {\n    var items = this.option(\"items\") || [];\n    var result = false;\n    iteratorUtils.each(items, function (index, item) {\n      if (\"auto\" === item.locateInMenu) {\n        result = true;\n      } else {\n        if (\"always\" === item.locateInMenu && item.widget) {\n          result = true;\n        }\n      }\n    });\n    return result;\n  },\n  _arrangeItems: function _arrangeItems() {\n    if (this.$element().is(\":hidden\")) {\n      return;\n    }\n\n    this._$centerSection.css({\n      margin: \"0 auto\",\n      \"float\": \"none\"\n    });\n\n    iteratorUtils.each(this._restoreItems || [], function (_, obj) {\n      $(obj.container).append(obj.item);\n    });\n    this._restoreItems = [];\n    var elementWidth = this.$element().width();\n\n    this._hideOverflowItems(elementWidth);\n\n    this.callBase(elementWidth);\n  },\n  _itemOptionChanged: function _itemOptionChanged(item, property, value) {\n    if (this._isMenuItem(item)) {\n      this._menuStrategy.renderMenuItems();\n    } else {\n      if (this._isToolbarItem(item)) {\n        this.callBase(item, property, value);\n      } else {\n        this.callBase(item, property, value);\n\n        this._menuStrategy.renderMenuItems();\n      }\n    }\n\n    if (\"location\" === property) {\n      this.repaint();\n    }\n  },\n  _isMenuItem: function _isMenuItem(itemData) {\n    return \"menu\" === itemData.location || \"always\" === itemData.locateInMenu;\n  },\n  _isToolbarItem: function _isToolbarItem(itemData) {\n    return void 0 === itemData.location || \"never\" === itemData.locateInMenu;\n  },\n  _optionChanged: function _optionChanged(args) {\n    var name = args.name;\n    var value = args.value;\n\n    switch (name) {\n      case \"submenuType\":\n        this._invalidate();\n\n        break;\n\n      case \"visible\":\n        this.callBase.apply(this, arguments);\n\n        this._menuStrategy.handleToolbarVisibilityChange(value);\n\n        break;\n\n      case \"menuItemTemplate\":\n        this._changeMenuOption(\"itemTemplate\", this._getTemplate(value));\n\n        break;\n\n      case \"onItemClick\":\n        this._changeMenuOption(name, value);\n\n        this.callBase.apply(this, arguments);\n        break;\n\n      case \"menuContainer\":\n        this._changeMenuOption(\"container\", value);\n\n        break;\n\n      default:\n        this.callBase.apply(this, arguments);\n    }\n  },\n  _changeMenuOption: function _changeMenuOption(name, value) {\n    this._menuStrategy.widgetOption(name, value);\n  }\n});\nregisterComponent(\"dxToolbar\", Toolbar);\nmodule.exports = Toolbar;\nmodule.exports.default = module.exports;","map":{"version":3,"sources":["C:/Users/va112/Documents/Webdev/React/Corona/node_modules/devextreme/ui/toolbar.js"],"names":["$","require","themes","registerComponent","grep","extend","arrayUtils","iteratorUtils","ActionSheetStrategy","DropDownMenuStrategy","ToolbarBase","ChildDefaultTemplate","STRATEGIES","actionSheet","dropDownMenu","TOOLBAR_AUTO_HIDE_ITEM_CLASS","TOOLBAR_AUTO_HIDE_TEXT_CLASS","TOOLBAR_HIDDEN_ITEM","Toolbar","inherit","_getDefaultOptions","callBase","menuItemTemplate","submenuType","menuContainer","_defaultOptionsRules","themeName","current","concat","device","isIos7","options","_dimensionChanged","dimension","_menuStrategy","toggleMenuVisibility","renderMenuItems","_initTemplates","_defaultTemplates","actionSheetItem","_initMarkup","_renderMenu","_postProcessRenderItems","_hideOverflowItems","_updateMenuVisibility","_renderItem","index","item","itemContainer","$after","itemElement","locateInMenu","addClass","widget","showText","toggleClass","_getItemsWidth","_getSummaryItemsWidth","_$beforeSection","_$centerSection","_$afterSection","elementWidth","overflowItems","$element","find","length","width","removeClass","itemsWidth","$item","eq","outerWidth","splice","_getMenuItems","that","menuItems","option","_isMenuItem","$hiddenItems","_itemContainer","children","not","_restoreItems","slice","call","map","itemData","_getItemData","$itemContainer","$itemMarkup","push","container","$container","append","merge","_getToolbarItems","_renderMenuStrategy","render","strategyName","_requireDropDownStrategy","strategy","NAME","items","result","each","_arrangeItems","is","css","margin","_","obj","_itemOptionChanged","property","value","_isToolbarItem","repaint","location","_optionChanged","args","name","_invalidate","apply","arguments","handleToolbarVisibilityChange","_changeMenuOption","_getTemplate","widgetOption","module","exports","default"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/toolbar.js)\r\n * Version: 19.2.7\r\n * Build date: Thu Mar 26 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../core/renderer\");\r\nvar themes = require(\"./themes\");\r\nvar registerComponent = require(\"../core/component_registrator\");\r\nvar grep = require(\"../core/utils/common\").grep;\r\nvar extend = require(\"../core/utils/extend\").extend;\r\nvar arrayUtils = require(\"../core/utils/array\");\r\nvar iteratorUtils = require(\"../core/utils/iterator\");\r\nvar ActionSheetStrategy = require(\"./toolbar/ui.toolbar.strategy.action_sheet\");\r\nvar DropDownMenuStrategy = require(\"./toolbar/ui.toolbar.strategy.drop_down_menu\");\r\nvar ToolbarBase = require(\"./toolbar/ui.toolbar.base\");\r\nvar ChildDefaultTemplate = require(\"../core/templates/child_default_template\").ChildDefaultTemplate;\r\nvar STRATEGIES = {\r\n    actionSheet: ActionSheetStrategy,\r\n    dropDownMenu: DropDownMenuStrategy\r\n};\r\nvar TOOLBAR_AUTO_HIDE_ITEM_CLASS = \"dx-toolbar-item-auto-hide\";\r\nvar TOOLBAR_AUTO_HIDE_TEXT_CLASS = \"dx-toolbar-text-auto-hide\";\r\nvar TOOLBAR_HIDDEN_ITEM = \"dx-toolbar-item-invisible\";\r\nvar Toolbar = ToolbarBase.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            menuItemTemplate: \"menuItem\",\r\n            submenuType: \"dropDownMenu\",\r\n            menuContainer: void 0\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        var themeName = themes.current();\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return themes.isIos7(themeName)\r\n            },\r\n            options: {\r\n                submenuType: \"actionSheet\"\r\n            }\r\n        }])\r\n    },\r\n    _dimensionChanged: function(dimension) {\r\n        if (\"height\" === dimension) {\r\n            return\r\n        }\r\n        this._menuStrategy.toggleMenuVisibility(false, true);\r\n        this.callBase();\r\n        this._menuStrategy.renderMenuItems()\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._defaultTemplates.actionSheetItem = new ChildDefaultTemplate(\"item\")\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this._renderMenu()\r\n    },\r\n    _postProcessRenderItems: function() {\r\n        this._hideOverflowItems();\r\n        this._menuStrategy._updateMenuVisibility();\r\n        this.callBase();\r\n        this._menuStrategy.renderMenuItems()\r\n    },\r\n    _renderItem: function(index, item, itemContainer, $after) {\r\n        var itemElement = this.callBase(index, item, itemContainer, $after);\r\n        if (\"auto\" === item.locateInMenu) {\r\n            itemElement.addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS)\r\n        }\r\n        if (\"dxButton\" === item.widget && \"inMenu\" === item.showText) {\r\n            itemElement.toggleClass(TOOLBAR_AUTO_HIDE_TEXT_CLASS)\r\n        }\r\n        return itemElement\r\n    },\r\n    _getItemsWidth: function() {\r\n        return this._getSummaryItemsWidth([this._$beforeSection, this._$centerSection, this._$afterSection])\r\n    },\r\n    _hideOverflowItems: function(elementWidth) {\r\n        var overflowItems = this.$element().find(\".\" + TOOLBAR_AUTO_HIDE_ITEM_CLASS);\r\n        if (!overflowItems.length) {\r\n            return\r\n        }\r\n        elementWidth = elementWidth || this.$element().width();\r\n        $(overflowItems).removeClass(TOOLBAR_HIDDEN_ITEM);\r\n        var itemsWidth = this._getItemsWidth();\r\n        while (overflowItems.length && elementWidth < itemsWidth) {\r\n            var $item = overflowItems.eq(-1);\r\n            itemsWidth -= $item.outerWidth();\r\n            $item.addClass(TOOLBAR_HIDDEN_ITEM);\r\n            overflowItems.splice(-1, 1)\r\n        }\r\n    },\r\n    _getMenuItems: function() {\r\n        var that = this;\r\n        var menuItems = grep(this.option(\"items\") || [], function(item) {\r\n            return that._isMenuItem(item)\r\n        });\r\n        var $hiddenItems = this._itemContainer().children(\".\" + TOOLBAR_AUTO_HIDE_ITEM_CLASS + \".\" + TOOLBAR_HIDDEN_ITEM).not(\".dx-state-invisible\");\r\n        this._restoreItems = this._restoreItems || [];\r\n        var overflowItems = [].slice.call($hiddenItems).map(function(item) {\r\n            var itemData = that._getItemData(item);\r\n            var $itemContainer = $(item).children();\r\n            var $itemMarkup = $itemContainer.children();\r\n            return extend({\r\n                menuItemTemplate: function() {\r\n                    that._restoreItems.push({\r\n                        container: $itemContainer,\r\n                        item: $itemMarkup\r\n                    });\r\n                    var $container = $(\"<div>\").addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS);\r\n                    return $container.append($itemMarkup)\r\n                }\r\n            }, itemData)\r\n        });\r\n        return arrayUtils.merge(overflowItems, menuItems)\r\n    },\r\n    _getToolbarItems: function() {\r\n        var that = this;\r\n        return grep(this.option(\"items\") || [], function(item) {\r\n            return !that._isMenuItem(item)\r\n        })\r\n    },\r\n    _renderMenu: function() {\r\n        this._renderMenuStrategy();\r\n        this._menuStrategy.render()\r\n    },\r\n    _renderMenuStrategy: function() {\r\n        var strategyName = this.option(\"submenuType\");\r\n        if (this._requireDropDownStrategy()) {\r\n            strategyName = \"dropDownMenu\"\r\n        }\r\n        var strategy = STRATEGIES[strategyName];\r\n        if (!(this._menuStrategy && this._menuStrategy.NAME === strategyName)) {\r\n            this._menuStrategy = new strategy(this)\r\n        }\r\n    },\r\n    _requireDropDownStrategy: function() {\r\n        var items = this.option(\"items\") || [];\r\n        var result = false;\r\n        iteratorUtils.each(items, function(index, item) {\r\n            if (\"auto\" === item.locateInMenu) {\r\n                result = true\r\n            } else {\r\n                if (\"always\" === item.locateInMenu && item.widget) {\r\n                    result = true\r\n                }\r\n            }\r\n        });\r\n        return result\r\n    },\r\n    _arrangeItems: function() {\r\n        if (this.$element().is(\":hidden\")) {\r\n            return\r\n        }\r\n        this._$centerSection.css({\r\n            margin: \"0 auto\",\r\n            \"float\": \"none\"\r\n        });\r\n        iteratorUtils.each(this._restoreItems || [], function(_, obj) {\r\n            $(obj.container).append(obj.item)\r\n        });\r\n        this._restoreItems = [];\r\n        var elementWidth = this.$element().width();\r\n        this._hideOverflowItems(elementWidth);\r\n        this.callBase(elementWidth)\r\n    },\r\n    _itemOptionChanged: function(item, property, value) {\r\n        if (this._isMenuItem(item)) {\r\n            this._menuStrategy.renderMenuItems()\r\n        } else {\r\n            if (this._isToolbarItem(item)) {\r\n                this.callBase(item, property, value)\r\n            } else {\r\n                this.callBase(item, property, value);\r\n                this._menuStrategy.renderMenuItems()\r\n            }\r\n        }\r\n        if (\"location\" === property) {\r\n            this.repaint()\r\n        }\r\n    },\r\n    _isMenuItem: function(itemData) {\r\n        return \"menu\" === itemData.location || \"always\" === itemData.locateInMenu\r\n    },\r\n    _isToolbarItem: function(itemData) {\r\n        return void 0 === itemData.location || \"never\" === itemData.locateInMenu\r\n    },\r\n    _optionChanged: function(args) {\r\n        var name = args.name;\r\n        var value = args.value;\r\n        switch (name) {\r\n            case \"submenuType\":\r\n                this._invalidate();\r\n                break;\r\n            case \"visible\":\r\n                this.callBase.apply(this, arguments);\r\n                this._menuStrategy.handleToolbarVisibilityChange(value);\r\n                break;\r\n            case \"menuItemTemplate\":\r\n                this._changeMenuOption(\"itemTemplate\", this._getTemplate(value));\r\n                break;\r\n            case \"onItemClick\":\r\n                this._changeMenuOption(name, value);\r\n                this.callBase.apply(this, arguments);\r\n                break;\r\n            case \"menuContainer\":\r\n                this._changeMenuOption(\"container\", value);\r\n                break;\r\n            default:\r\n                this.callBase.apply(this, arguments)\r\n        }\r\n    },\r\n    _changeMenuOption: function(name, value) {\r\n        this._menuStrategy.widgetOption(name, value)\r\n    }\r\n});\r\nregisterComponent(\"dxToolbar\", Toolbar);\r\nmodule.exports = Toolbar;\r\nmodule.exports.default = module.exports;\r\n"]},"metadata":{},"sourceType":"script"}