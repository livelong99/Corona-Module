{"ast":null,"code":"/**\r\n * DevExtreme (ui/scroll_view/ui.scrollable.simulated.js)\r\n * Version: 19.2.7\r\n * Build date: Thu Mar 26 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _dom_adapter = require(\"../../core/dom_adapter\");\n\nvar _dom_adapter2 = _interopRequireDefault(_dom_adapter);\n\nvar _events_engine = require(\"../../events/core/events_engine\");\n\nvar _events_engine2 = _interopRequireDefault(_events_engine);\n\nvar _inflector = require(\"../../core/utils/inflector\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _window = require(\"../../core/utils/window\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _translator = require(\"../../animation/translator\");\n\nvar _translator2 = _interopRequireDefault(_translator);\n\nvar _class = require(\"../../core/class\");\n\nvar _class2 = _interopRequireDefault(_class);\n\nvar _animator = require(\"./animator\");\n\nvar _animator2 = _interopRequireDefault(_animator);\n\nvar _devices = require(\"../../core/devices\");\n\nvar _devices2 = _interopRequireDefault(_devices);\n\nvar _utils = require(\"../../events/utils\");\n\nvar _common = require(\"../../core/utils/common\");\n\nvar _ui = require(\"./ui.scrollbar\");\n\nvar _ui2 = _interopRequireDefault(_ui);\n\nvar _deferred = require(\"../../core/utils/deferred\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar realDevice = _devices2.default.real;\nvar isSluggishPlatform = \"android\" === realDevice.platform;\nvar SCROLLABLE_SIMULATED = \"dxSimulatedScrollable\";\nvar SCROLLABLE_STRATEGY = \"dxScrollableStrategy\";\nvar SCROLLABLE_SIMULATED_CURSOR = SCROLLABLE_SIMULATED + \"Cursor\";\nvar SCROLLABLE_SIMULATED_KEYBOARD = SCROLLABLE_SIMULATED + \"Keyboard\";\nvar SCROLLABLE_SIMULATED_CLASS = \"dx-scrollable-simulated\";\nvar SCROLLABLE_SCROLLBARS_HIDDEN = \"dx-scrollable-scrollbars-hidden\";\nvar SCROLLABLE_SCROLLBARS_ALWAYSVISIBLE = \"dx-scrollable-scrollbars-alwaysvisible\";\nvar SCROLLABLE_SCROLLBAR_CLASS = \"dx-scrollable-scrollbar\";\nvar VERTICAL = \"vertical\";\nvar HORIZONTAL = \"horizontal\";\nvar ACCELERATION = isSluggishPlatform ? .95 : .92;\nvar OUT_BOUNDS_ACCELERATION = .5;\nvar MIN_VELOCITY_LIMIT = 1;\nvar FRAME_DURATION = Math.round(1e3 / 60);\nvar SCROLL_LINE_HEIGHT = 40;\nvar VALIDATE_WHEEL_TIMEOUT = 500;\nvar BOUNCE_MIN_VELOCITY_LIMIT = MIN_VELOCITY_LIMIT / 5;\nvar BOUNCE_DURATION = isSluggishPlatform ? 300 : 400;\nvar BOUNCE_FRAMES = BOUNCE_DURATION / FRAME_DURATION;\nvar BOUNCE_ACCELERATION_SUM = (1 - Math.pow(ACCELERATION, BOUNCE_FRAMES)) / (1 - ACCELERATION);\nvar KEY_CODES = {\n  PAGE_UP: \"pageUp\",\n  PAGE_DOWN: \"pageDown\",\n  END: \"end\",\n  HOME: \"home\",\n  LEFT: \"leftArrow\",\n  UP: \"upArrow\",\n  RIGHT: \"rightArrow\",\n  DOWN: \"downArrow\",\n  TAB: \"tab\"\n};\n\nvar InertiaAnimator = _animator2.default.inherit({\n  ctor: function ctor(scroller) {\n    this.callBase();\n    this.scroller = scroller;\n  },\n  VELOCITY_LIMIT: MIN_VELOCITY_LIMIT,\n  _isFinished: function _isFinished() {\n    return Math.abs(this.scroller._velocity) <= this.VELOCITY_LIMIT;\n  },\n  _step: function _step() {\n    this.scroller._scrollStep(this.scroller._velocity);\n\n    this.scroller._velocity *= this._acceleration();\n  },\n  _acceleration: function _acceleration() {\n    return this.scroller._inBounds() ? ACCELERATION : OUT_BOUNDS_ACCELERATION;\n  },\n  _complete: function _complete() {\n    this.scroller._scrollComplete();\n  },\n  _stop: function _stop() {\n    this.scroller._stopComplete();\n  }\n});\n\nvar BounceAnimator = InertiaAnimator.inherit({\n  VELOCITY_LIMIT: BOUNCE_MIN_VELOCITY_LIMIT,\n  _isFinished: function _isFinished() {\n    return this.scroller._crossBoundOnNextStep() || this.callBase();\n  },\n  _acceleration: function _acceleration() {\n    return ACCELERATION;\n  },\n  _complete: function _complete() {\n    this.scroller._move(this.scroller._bounceLocation);\n\n    this.callBase();\n  }\n});\n\nvar Scroller = _class2.default.inherit({\n  ctor: function ctor(options) {\n    this._initOptions(options);\n\n    this._initAnimators();\n\n    this._initScrollbar();\n  },\n  _initOptions: function _initOptions(options) {\n    var _this = this;\n\n    this._location = 0;\n    this._topReached = false;\n    this._bottomReached = false;\n    this._axis = options.direction === HORIZONTAL ? \"x\" : \"y\";\n    this._prop = options.direction === HORIZONTAL ? \"left\" : \"top\";\n    this._dimension = options.direction === HORIZONTAL ? \"width\" : \"height\";\n    this._scrollProp = options.direction === HORIZONTAL ? \"scrollLeft\" : \"scrollTop\";\n    (0, _iterator.each)(options, function (optionName, optionValue) {\n      _this[\"_\" + optionName] = optionValue;\n    });\n  },\n  _initAnimators: function _initAnimators() {\n    this._inertiaAnimator = new InertiaAnimator(this);\n    this._bounceAnimator = new BounceAnimator(this);\n  },\n  _initScrollbar: function _initScrollbar() {\n    this._scrollbar = new _ui2.default((0, _renderer2.default)(\"<div>\").appendTo(this._$container), {\n      direction: this._direction,\n      visible: this._scrollByThumb,\n      visibilityMode: this._visibilityModeNormalize(this._scrollbarVisible),\n      expandable: this._scrollByThumb\n    });\n    this._$scrollbar = this._scrollbar.$element();\n  },\n  _visibilityModeNormalize: function _visibilityModeNormalize(mode) {\n    return true === mode ? \"onScroll\" : false === mode ? \"never\" : mode;\n  },\n  _scrollStep: function _scrollStep(delta) {\n    var prevLocation = this._location;\n    this._location += delta;\n\n    this._suppressBounce();\n\n    this._move();\n\n    if (Math.abs(prevLocation - this._location) < 1) {\n      return;\n    }\n\n    _events_engine2.default.triggerHandler(this._$container, {\n      type: \"scroll\"\n    });\n  },\n  _suppressBounce: function _suppressBounce() {\n    if (this._bounceEnabled || this._inBounds(this._location)) {\n      return;\n    }\n\n    this._velocity = 0;\n    this._location = this._boundLocation();\n  },\n  _boundLocation: function _boundLocation(location) {\n    location = void 0 !== location ? location : this._location;\n    return Math.max(Math.min(location, this._maxOffset), this._minOffset);\n  },\n  _move: function _move(location) {\n    this._location = void 0 !== location ? location * this._getScaleRatio() : this._location;\n\n    this._moveContent();\n\n    this._moveScrollbar();\n  },\n  _moveContent: function _moveContent() {\n    var location = this._location;\n\n    this._$container[this._scrollProp](-location / this._getScaleRatio());\n\n    this._moveContentByTranslator(location);\n  },\n  _getScaleRatio: function _getScaleRatio() {\n    if ((0, _window.hasWindow)() && !this._scaleRatio) {\n      var element = this._$element.get(0);\n\n      var realDimension = this._getRealDimension(element, this._dimension);\n\n      var baseDimension = this._getBaseDimension(element, this._dimension);\n\n      this._scaleRatio = Math.round(realDimension / baseDimension * 100) / 100;\n    }\n\n    return this._scaleRatio || 1;\n  },\n  _getRealDimension: function _getRealDimension(element, dimension) {\n    return Math.round(element.getBoundingClientRect()[dimension]);\n  },\n  _getBaseDimension: function _getBaseDimension(element, dimension) {\n    var dimensionName = \"offset\" + (0, _inflector.titleize)(dimension);\n    return element[dimensionName];\n  },\n  _moveContentByTranslator: function _moveContentByTranslator(location) {\n    var translateOffset;\n    var minOffset = -this._maxScrollPropValue;\n\n    if (location > 0) {\n      translateOffset = location;\n    } else {\n      if (location <= minOffset) {\n        translateOffset = location - minOffset;\n      } else {\n        translateOffset = location % 1;\n      }\n    }\n\n    if (this._translateOffset === translateOffset) {\n      return;\n    }\n\n    var targetLocation = {};\n    targetLocation[this._prop] = translateOffset;\n    this._translateOffset = translateOffset;\n\n    if (0 === translateOffset) {\n      _translator2.default.resetPosition(this._$content);\n\n      return;\n    }\n\n    _translator2.default.move(this._$content, targetLocation);\n  },\n  _moveScrollbar: function _moveScrollbar() {\n    this._scrollbar.moveTo(this._location);\n  },\n  _scrollComplete: function _scrollComplete() {\n    if (this._inBounds()) {\n      this._hideScrollbar();\n\n      if (this._completeDeferred) {\n        this._completeDeferred.resolve();\n      }\n    }\n\n    this._scrollToBounds();\n  },\n  _scrollToBounds: function _scrollToBounds() {\n    if (this._inBounds()) {\n      return;\n    }\n\n    this._bounceAction();\n\n    this._setupBounce();\n\n    this._bounceAnimator.start();\n  },\n  _setupBounce: function _setupBounce() {\n    var boundLocation = this._bounceLocation = this._boundLocation();\n\n    var bounceDistance = boundLocation - this._location;\n    this._velocity = bounceDistance / BOUNCE_ACCELERATION_SUM;\n  },\n  _inBounds: function _inBounds(location) {\n    location = void 0 !== location ? location : this._location;\n    return this._boundLocation(location) === location;\n  },\n  _crossBoundOnNextStep: function _crossBoundOnNextStep() {\n    var location = this._location;\n    var nextLocation = location + this._velocity;\n    return location < this._minOffset && nextLocation >= this._minOffset || location > this._maxOffset && nextLocation <= this._maxOffset;\n  },\n  _initHandler: function _initHandler(e) {\n    this._stopDeferred = new _deferred.Deferred();\n\n    this._stopScrolling();\n\n    this._prepareThumbScrolling(e);\n\n    return this._stopDeferred.promise();\n  },\n  _stopScrolling: (0, _common.deferRenderer)(function () {\n    this._hideScrollbar();\n\n    this._inertiaAnimator.stop();\n\n    this._bounceAnimator.stop();\n  }),\n  _prepareThumbScrolling: function _prepareThumbScrolling(e) {\n    if ((0, _utils.isDxMouseWheelEvent)(e.originalEvent)) {\n      return;\n    }\n\n    var $target = (0, _renderer2.default)(e.originalEvent.target);\n\n    var scrollbarClicked = this._isScrollbar($target);\n\n    if (scrollbarClicked) {\n      this._moveToMouseLocation(e);\n    }\n\n    this._thumbScrolling = scrollbarClicked || this._isThumb($target);\n    this._crossThumbScrolling = !this._thumbScrolling && this._isAnyThumbScrolling($target);\n\n    if (this._thumbScrolling) {\n      this._scrollbar.feedbackOn();\n    }\n  },\n  _isThumbScrollingHandler: function _isThumbScrollingHandler($target) {\n    return this._isThumb($target);\n  },\n  _moveToMouseLocation: function _moveToMouseLocation(e) {\n    var mouseLocation = e[\"page\" + this._axis.toUpperCase()] - this._$element.offset()[this._prop];\n\n    var location = this._location + mouseLocation / this._containerToContentRatio() - this._$container.height() / 2;\n\n    this._scrollStep(-Math.round(location));\n  },\n  _stopComplete: function _stopComplete() {\n    if (this._stopDeferred) {\n      this._stopDeferred.resolve();\n    }\n  },\n  _startHandler: function _startHandler() {\n    this._showScrollbar();\n  },\n  _moveHandler: function _moveHandler(delta) {\n    if (this._crossThumbScrolling) {\n      return;\n    }\n\n    if (this._thumbScrolling) {\n      delta[this._axis] = -Math.round(delta[this._axis] / this._containerToContentRatio());\n    }\n\n    this._scrollBy(delta);\n  },\n  _scrollBy: function _scrollBy(delta) {\n    delta = delta[this._axis];\n\n    if (!this._inBounds()) {\n      delta *= OUT_BOUNDS_ACCELERATION;\n    }\n\n    this._scrollStep(delta);\n  },\n  _scrollByHandler: function _scrollByHandler(delta) {\n    this._scrollBy(delta);\n\n    this._scrollComplete();\n  },\n  _containerToContentRatio: function _containerToContentRatio() {\n    return this._scrollbar.containerToContentRatio();\n  },\n  _endHandler: function _endHandler(velocity) {\n    this._completeDeferred = new _deferred.Deferred();\n    this._velocity = velocity[this._axis];\n\n    this._inertiaHandler();\n\n    this._resetThumbScrolling();\n\n    return this._completeDeferred.promise();\n  },\n  _inertiaHandler: function _inertiaHandler() {\n    this._suppressInertia();\n\n    this._inertiaAnimator.start();\n  },\n  _suppressInertia: function _suppressInertia() {\n    if (!this._inertiaEnabled || this._thumbScrolling) {\n      this._velocity = 0;\n    }\n  },\n  _resetThumbScrolling: function _resetThumbScrolling() {\n    this._thumbScrolling = false;\n    this._crossThumbScrolling = false;\n  },\n  _stopHandler: function _stopHandler() {\n    if (this._thumbScrolling) {\n      this._scrollComplete();\n    }\n\n    this._resetThumbScrolling();\n\n    this._scrollToBounds();\n  },\n  _disposeHandler: function _disposeHandler() {\n    this._stopScrolling();\n\n    this._$scrollbar.remove();\n  },\n  _updateHandler: function _updateHandler() {\n    this._update();\n\n    this._moveToBounds();\n  },\n  _update: function _update() {\n    var _this2 = this;\n\n    this._stopScrolling();\n\n    return (0, _common.deferUpdate)(function () {\n      _this2._resetScaleRatio();\n\n      _this2._updateLocation();\n\n      _this2._updateBounds();\n\n      _this2._updateScrollbar();\n\n      (0, _common.deferRender)(function () {\n        _this2._moveScrollbar();\n\n        _this2._scrollbar.update();\n      });\n    });\n  },\n  _resetScaleRatio: function _resetScaleRatio() {\n    this._scaleRatio = null;\n  },\n  _updateLocation: function _updateLocation() {\n    this._location = (_translator2.default.locate(this._$content)[this._prop] - this._$container[this._scrollProp]()) * this._getScaleRatio();\n  },\n  _updateBounds: function _updateBounds() {\n    this._maxOffset = Math.round(this._getMaxOffset());\n    this._minOffset = Math.round(this._getMinOffset());\n  },\n  _getMaxOffset: function _getMaxOffset() {\n    return 0;\n  },\n  _getMinOffset: function _getMinOffset() {\n    this._maxScrollPropValue = Math.max(this._contentSize() - this._containerSize(), 0);\n    return -this._maxScrollPropValue;\n  },\n  _updateScrollbar: (0, _common.deferUpdater)(function () {\n    var _this3 = this;\n\n    var containerSize = this._containerSize();\n\n    var contentSize = this._contentSize();\n\n    var baseContainerSize = this._getBaseDimension(this._$container.get(0), this._dimension);\n\n    var baseContentSize = this._getBaseDimension(this._$content.get(0), this._dimension);\n\n    (0, _common.deferRender)(function () {\n      _this3._scrollbar.option({\n        containerSize: containerSize,\n        contentSize: contentSize,\n        baseContainerSize: baseContainerSize,\n        baseContentSize: baseContentSize,\n        scaleRatio: _this3._getScaleRatio()\n      });\n    });\n  }),\n  _moveToBounds: (0, _common.deferRenderer)((0, _common.deferUpdater)((0, _common.deferRenderer)(function () {\n    var location = this._boundLocation();\n\n    var locationChanged = location !== this._location;\n    this._location = location;\n\n    this._move();\n\n    if (locationChanged) {\n      this._scrollAction();\n    }\n  }))),\n  _createActionsHandler: function _createActionsHandler(actions) {\n    this._scrollAction = actions.scroll;\n    this._bounceAction = actions.bounce;\n  },\n  _showScrollbar: function _showScrollbar() {\n    this._scrollbar.option(\"visible\", true);\n  },\n  _hideScrollbar: function _hideScrollbar() {\n    this._scrollbar.option(\"visible\", false);\n  },\n  _containerSize: function _containerSize() {\n    return this._getRealDimension(this._$container.get(0), this._dimension);\n  },\n  _contentSize: function _contentSize() {\n    var isOverflowHidden = \"hidden\" === this._$content.css(\"overflow\" + this._axis.toUpperCase());\n\n    var contentSize = this._getRealDimension(this._$content.get(0), this._dimension);\n\n    if (!isOverflowHidden) {\n      var containerScrollSize = this._$content[0][\"scroll\" + (0, _inflector.titleize)(this._dimension)] * this._getScaleRatio();\n\n      contentSize = Math.max(containerScrollSize, contentSize);\n    }\n\n    return contentSize;\n  },\n  _validateEvent: function _validateEvent(e) {\n    var $target = (0, _renderer2.default)(e.originalEvent.target);\n    return this._isThumb($target) || this._isScrollbar($target) || this._isContent($target);\n  },\n  _isThumb: function _isThumb($element) {\n    return this._scrollByThumb && this._scrollbar.isThumb($element);\n  },\n  _isScrollbar: function _isScrollbar($element) {\n    return this._scrollByThumb && $element && $element.is(this._$scrollbar);\n  },\n  _isContent: function _isContent($element) {\n    return this._scrollByContent && !!$element.closest(this._$element).length;\n  },\n  _reachedMin: function _reachedMin() {\n    return this._location <= this._minOffset;\n  },\n  _reachedMax: function _reachedMax() {\n    return this._location >= this._maxOffset;\n  },\n  _cursorEnterHandler: function _cursorEnterHandler() {\n    this._updateScrollbar();\n\n    this._scrollbar.cursorEnter();\n  },\n  _cursorLeaveHandler: function _cursorLeaveHandler() {\n    this._scrollbar.cursorLeave();\n  },\n  dispose: _common.noop\n});\n\nvar hoveredScrollable;\nvar activeScrollable;\n\nvar SimulatedStrategy = _class2.default.inherit({\n  ctor: function ctor(scrollable) {\n    this._init(scrollable);\n  },\n  _init: function _init(scrollable) {\n    this._component = scrollable;\n    this._$element = scrollable.$element();\n    this._$container = scrollable._$container;\n    this._$wrapper = scrollable._$wrapper;\n    this._$content = scrollable._$content;\n    this.option = scrollable.option.bind(scrollable);\n    this._createActionByOption = scrollable._createActionByOption.bind(scrollable);\n    this._isLocked = scrollable._isLocked.bind(scrollable);\n    this._isDirection = scrollable._isDirection.bind(scrollable);\n    this._allowedDirection = scrollable._allowedDirection.bind(scrollable);\n  },\n  render: function render() {\n    this._$element.addClass(SCROLLABLE_SIMULATED_CLASS);\n\n    this._createScrollers();\n\n    if (this.option(\"useKeyboard\")) {\n      this._$container.prop(\"tabIndex\", 0);\n    }\n\n    this._attachKeyboardHandler();\n\n    this._attachCursorHandlers();\n  },\n  _createScrollers: function _createScrollers() {\n    this._scrollers = {};\n\n    if (this._isDirection(HORIZONTAL)) {\n      this._createScroller(HORIZONTAL);\n    }\n\n    if (this._isDirection(VERTICAL)) {\n      this._createScroller(VERTICAL);\n    }\n\n    this._$element.toggleClass(SCROLLABLE_SCROLLBARS_ALWAYSVISIBLE, \"always\" === this.option(\"showScrollbar\"));\n\n    this._$element.toggleClass(SCROLLABLE_SCROLLBARS_HIDDEN, !this.option(\"showScrollbar\"));\n  },\n  _createScroller: function _createScroller(direction) {\n    this._scrollers[direction] = new Scroller(this._scrollerOptions(direction));\n  },\n  _scrollerOptions: function _scrollerOptions(direction) {\n    return {\n      direction: direction,\n      $content: this._$content,\n      $container: this._$container,\n      $wrapper: this._$wrapper,\n      $element: this._$element,\n      scrollByContent: this.option(\"scrollByContent\"),\n      scrollByThumb: this.option(\"scrollByThumb\"),\n      scrollbarVisible: this.option(\"showScrollbar\"),\n      bounceEnabled: this.option(\"bounceEnabled\"),\n      inertiaEnabled: this.option(\"inertiaEnabled\"),\n      isAnyThumbScrolling: this._isAnyThumbScrolling.bind(this)\n    };\n  },\n  _applyScaleRatio: function _applyScaleRatio(targetLocation) {\n    for (var direction in this._scrollers) {\n      var prop = this._getPropByDirection(direction);\n\n      if ((0, _type.isDefined)(targetLocation[prop])) {\n        var scroller = this._scrollers[direction];\n        targetLocation[prop] *= scroller._getScaleRatio();\n      }\n    }\n\n    return targetLocation;\n  },\n  _isAnyThumbScrolling: function _isAnyThumbScrolling($target) {\n    var result = false;\n\n    this._eventHandler(\"isThumbScrolling\", $target).done(function (isThumbScrollingVertical, isThumbScrollingHorizontal) {\n      result = isThumbScrollingVertical || isThumbScrollingHorizontal;\n    });\n\n    return result;\n  },\n  handleInit: function handleInit(e) {\n    this._suppressDirections(e);\n\n    this._eventForUserAction = e;\n\n    this._eventHandler(\"init\", e).done(this._stopAction);\n  },\n  _suppressDirections: function _suppressDirections(e) {\n    if ((0, _utils.isDxMouseWheelEvent)(e.originalEvent)) {\n      this._prepareDirections(true);\n\n      return;\n    }\n\n    this._prepareDirections();\n\n    this._eachScroller(function (scroller, direction) {\n      var isValid = scroller._validateEvent(e);\n\n      this._validDirections[direction] = isValid;\n    });\n  },\n  _prepareDirections: function _prepareDirections(value) {\n    value = value || false;\n    this._validDirections = {};\n    this._validDirections[HORIZONTAL] = value;\n    this._validDirections[VERTICAL] = value;\n  },\n  _eachScroller: function _eachScroller(callback) {\n    callback = callback.bind(this);\n    (0, _iterator.each)(this._scrollers, function (direction, scroller) {\n      callback(scroller, direction);\n    });\n  },\n  handleStart: function handleStart(e) {\n    this._eventForUserAction = e;\n\n    this._eventHandler(\"start\").done(this._startAction);\n  },\n  _saveActive: function _saveActive() {\n    activeScrollable = this;\n  },\n  _resetActive: function _resetActive() {\n    if (activeScrollable === this) {\n      activeScrollable = null;\n    }\n  },\n  handleMove: function handleMove(e) {\n    if (this._isLocked()) {\n      e.cancel = true;\n\n      this._resetActive();\n\n      return;\n    }\n\n    this._saveActive();\n\n    e.preventDefault && e.preventDefault();\n\n    this._adjustDistance(e, e.delta);\n\n    this._eventForUserAction = e;\n\n    this._eventHandler(\"move\", e.delta);\n  },\n  _adjustDistance: function _adjustDistance(e, distance) {\n    distance.x *= this._validDirections[HORIZONTAL];\n    distance.y *= this._validDirections[VERTICAL];\n\n    var devicePixelRatio = this._tryGetDevicePixelRatio();\n\n    if (devicePixelRatio && (0, _utils.isDxMouseWheelEvent)(e.originalEvent)) {\n      distance.x = Math.round(distance.x / devicePixelRatio * 100) / 100;\n      distance.y = Math.round(distance.y / devicePixelRatio * 100) / 100;\n    }\n  },\n  _tryGetDevicePixelRatio: function _tryGetDevicePixelRatio() {\n    if ((0, _window.hasWindow)()) {\n      return (0, _window.getWindow)().devicePixelRatio;\n    }\n  },\n  handleEnd: function handleEnd(e) {\n    this._resetActive();\n\n    this._refreshCursorState(e.originalEvent && e.originalEvent.target);\n\n    this._adjustDistance(e, e.velocity);\n\n    this._eventForUserAction = e;\n    return this._eventHandler(\"end\", e.velocity).done(this._endAction);\n  },\n  handleCancel: function handleCancel(e) {\n    this._resetActive();\n\n    this._eventForUserAction = e;\n    return this._eventHandler(\"end\", {\n      x: 0,\n      y: 0\n    });\n  },\n  handleStop: function handleStop() {\n    this._resetActive();\n\n    this._eventHandler(\"stop\");\n  },\n  handleScroll: function handleScroll() {\n    this._scrollAction();\n  },\n  _attachKeyboardHandler: function _attachKeyboardHandler() {\n    _events_engine2.default.off(this._$element, \".\".concat(SCROLLABLE_SIMULATED_KEYBOARD));\n\n    if (!this.option(\"disabled\") && this.option(\"useKeyboard\")) {\n      _events_engine2.default.on(this._$element, (0, _utils.addNamespace)(\"keydown\", SCROLLABLE_SIMULATED_KEYBOARD), this._keyDownHandler.bind(this));\n    }\n  },\n  _keyDownHandler: function _keyDownHandler(e) {\n    var _this4 = this;\n\n    clearTimeout(this._updateHandlerTimeout);\n    this._updateHandlerTimeout = setTimeout(function () {\n      if ((0, _utils.normalizeKeyName)(e) === KEY_CODES.TAB) {\n        _this4._eachScroller(function (scroller) {\n          scroller._updateHandler();\n        });\n      }\n    });\n\n    if (!this._$container.is(_dom_adapter2.default.getActiveElement())) {\n      return;\n    }\n\n    var handled = true;\n\n    switch ((0, _utils.normalizeKeyName)(e)) {\n      case KEY_CODES.DOWN:\n        this._scrollByLine({\n          y: 1\n        });\n\n        break;\n\n      case KEY_CODES.UP:\n        this._scrollByLine({\n          y: -1\n        });\n\n        break;\n\n      case KEY_CODES.RIGHT:\n        this._scrollByLine({\n          x: 1\n        });\n\n        break;\n\n      case KEY_CODES.LEFT:\n        this._scrollByLine({\n          x: -1\n        });\n\n        break;\n\n      case KEY_CODES.PAGE_DOWN:\n        this._scrollByPage(1);\n\n        break;\n\n      case KEY_CODES.PAGE_UP:\n        this._scrollByPage(-1);\n\n        break;\n\n      case KEY_CODES.HOME:\n        this._scrollToHome();\n\n        break;\n\n      case KEY_CODES.END:\n        this._scrollToEnd();\n\n        break;\n\n      default:\n        handled = false;\n    }\n\n    if (handled) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  },\n  _scrollByLine: function _scrollByLine(lines) {\n    var devicePixelRatio = this._tryGetDevicePixelRatio();\n\n    var scrollOffset = SCROLL_LINE_HEIGHT;\n\n    if (devicePixelRatio) {\n      scrollOffset = Math.abs(scrollOffset / devicePixelRatio * 100) / 100;\n    }\n\n    this.scrollBy({\n      top: (lines.y || 0) * -scrollOffset,\n      left: (lines.x || 0) * -scrollOffset\n    });\n  },\n  _scrollByPage: function _scrollByPage(page) {\n    var prop = this._wheelProp();\n\n    var dimension = this._dimensionByProp(prop);\n\n    var distance = {};\n    distance[prop] = page * -this._$container[dimension]();\n    this.scrollBy(distance);\n  },\n  _dimensionByProp: function _dimensionByProp(prop) {\n    return \"left\" === prop ? \"width\" : \"height\";\n  },\n  _getPropByDirection: function _getPropByDirection(direction) {\n    return direction === HORIZONTAL ? \"left\" : \"top\";\n  },\n  _scrollToHome: function _scrollToHome() {\n    var prop = this._wheelProp();\n\n    var distance = {};\n    distance[prop] = 0;\n\n    this._component.scrollTo(distance);\n  },\n  _scrollToEnd: function _scrollToEnd() {\n    var prop = this._wheelProp();\n\n    var dimension = this._dimensionByProp(prop);\n\n    var distance = {};\n    distance[prop] = this._$content[dimension]() - this._$container[dimension]();\n\n    this._component.scrollTo(distance);\n  },\n  createActions: function createActions() {\n    this._startAction = this._createActionHandler(\"onStart\");\n    this._stopAction = this._createActionHandler(\"onStop\");\n    this._endAction = this._createActionHandler(\"onEnd\");\n    this._updateAction = this._createActionHandler(\"onUpdated\");\n\n    this._createScrollerActions();\n  },\n  _createScrollerActions: function _createScrollerActions() {\n    this._scrollAction = this._createActionHandler(\"onScroll\");\n    this._bounceAction = this._createActionHandler(\"onBounce\");\n\n    this._eventHandler(\"createActions\", {\n      scroll: this._scrollAction,\n      bounce: this._bounceAction\n    });\n  },\n  _createActionHandler: function _createActionHandler(optionName) {\n    var _arguments = arguments,\n        _this5 = this;\n\n    var actionHandler = this._createActionByOption(optionName);\n\n    return function () {\n      actionHandler((0, _extend.extend)(_this5._createActionArgs(), _arguments));\n    };\n  },\n  _createActionArgs: function _createActionArgs() {\n    var scrollerX = this._scrollers[HORIZONTAL];\n    var scrollerY = this._scrollers[VERTICAL];\n    var location = this.location();\n    this._scrollOffset = {\n      top: scrollerY && -location.top,\n      left: scrollerX && -location.left\n    };\n    return {\n      event: this._eventForUserAction,\n      scrollOffset: this._scrollOffset,\n      reachedLeft: scrollerX && scrollerX._reachedMax(),\n      reachedRight: scrollerX && scrollerX._reachedMin(),\n      reachedTop: scrollerY && scrollerY._reachedMax(),\n      reachedBottom: scrollerY && scrollerY._reachedMin()\n    };\n  },\n  _eventHandler: function _eventHandler(eventName) {\n    var args = [].slice.call(arguments).slice(1);\n    var deferreds = (0, _iterator.map)(this._scrollers, function (scroller) {\n      return scroller[\"_\" + eventName + \"Handler\"].apply(scroller, args);\n    });\n    return _deferred.when.apply(_renderer2.default, deferreds).promise();\n  },\n  location: function location() {\n    var location = _translator2.default.locate(this._$content);\n\n    location.top -= this._$container.scrollTop();\n    location.left -= this._$container.scrollLeft();\n    return location;\n  },\n  disabledChanged: function disabledChanged() {\n    this._attachCursorHandlers();\n  },\n  _attachCursorHandlers: function _attachCursorHandlers() {\n    _events_engine2.default.off(this._$element, \".\".concat(SCROLLABLE_SIMULATED_CURSOR));\n\n    if (!this.option(\"disabled\") && this._isHoverMode()) {\n      _events_engine2.default.on(this._$element, (0, _utils.addNamespace)(\"mouseenter\", SCROLLABLE_SIMULATED_CURSOR), this._cursorEnterHandler.bind(this));\n\n      _events_engine2.default.on(this._$element, (0, _utils.addNamespace)(\"mouseleave\", SCROLLABLE_SIMULATED_CURSOR), this._cursorLeaveHandler.bind(this));\n    }\n  },\n  _isHoverMode: function _isHoverMode() {\n    return \"onHover\" === this.option(\"showScrollbar\");\n  },\n  _cursorEnterHandler: function _cursorEnterHandler(e) {\n    e = e || {};\n    e.originalEvent = e.originalEvent || {};\n\n    if (activeScrollable || e.originalEvent._hoverHandled) {\n      return;\n    }\n\n    if (hoveredScrollable) {\n      hoveredScrollable._cursorLeaveHandler();\n    }\n\n    hoveredScrollable = this;\n\n    this._eventHandler(\"cursorEnter\");\n\n    e.originalEvent._hoverHandled = true;\n  },\n  _cursorLeaveHandler: function _cursorLeaveHandler(e) {\n    if (hoveredScrollable !== this || activeScrollable === hoveredScrollable) {\n      return;\n    }\n\n    this._eventHandler(\"cursorLeave\");\n\n    hoveredScrollable = null;\n\n    this._refreshCursorState(e && e.relatedTarget);\n  },\n  _refreshCursorState: function _refreshCursorState(target) {\n    if (!this._isHoverMode() && (!target || activeScrollable)) {\n      return;\n    }\n\n    var $target = (0, _renderer2.default)(target);\n    var $scrollable = $target.closest(\".\".concat(SCROLLABLE_SIMULATED_CLASS, \":not(.dx-state-disabled)\"));\n    var targetScrollable = $scrollable.length && $scrollable.data(SCROLLABLE_STRATEGY);\n\n    if (hoveredScrollable && hoveredScrollable !== targetScrollable) {\n      hoveredScrollable._cursorLeaveHandler();\n    }\n\n    if (targetScrollable) {\n      targetScrollable._cursorEnterHandler();\n    }\n  },\n  update: function update() {\n    var _this6 = this;\n\n    var result = this._eventHandler(\"update\").done(this._updateAction);\n\n    return (0, _deferred.when)(result, (0, _common.deferUpdate)(function () {\n      var allowedDirections = _this6._allowedDirections();\n\n      (0, _common.deferRender)(function () {\n        var touchDirection = allowedDirections.vertical ? \"pan-x\" : \"\";\n        touchDirection = allowedDirections.horizontal ? \"pan-y\" : touchDirection;\n        touchDirection = allowedDirections.vertical && allowedDirections.horizontal ? \"none\" : touchDirection;\n\n        _this6._$container.css(\"touchAction\", touchDirection);\n      });\n      return (0, _deferred.when)().promise();\n    }));\n  },\n  _allowedDirections: function _allowedDirections() {\n    var bounceEnabled = this.option(\"bounceEnabled\");\n    var verticalScroller = this._scrollers[VERTICAL];\n    var horizontalScroller = this._scrollers[HORIZONTAL];\n    return {\n      vertical: verticalScroller && (verticalScroller._minOffset < 0 || bounceEnabled),\n      horizontal: horizontalScroller && (horizontalScroller._minOffset < 0 || bounceEnabled)\n    };\n  },\n  updateBounds: function updateBounds() {\n    this._scrollers[HORIZONTAL] && this._scrollers[HORIZONTAL]._updateBounds();\n  },\n  scrollBy: function scrollBy(distance) {\n    var verticalScroller = this._scrollers[VERTICAL];\n    var horizontalScroller = this._scrollers[HORIZONTAL];\n\n    if (verticalScroller) {\n      distance.top = verticalScroller._boundLocation(distance.top + verticalScroller._location) - verticalScroller._location;\n    }\n\n    if (horizontalScroller) {\n      distance.left = horizontalScroller._boundLocation(distance.left + horizontalScroller._location) - horizontalScroller._location;\n    }\n\n    this._prepareDirections(true);\n\n    this._startAction();\n\n    this._eventHandler(\"scrollBy\", {\n      x: distance.left,\n      y: distance.top\n    });\n\n    this._endAction();\n  },\n  validate: function validate(e) {\n    if (this.option(\"disabled\")) {\n      return false;\n    }\n\n    if (this.option(\"bounceEnabled\")) {\n      return true;\n    }\n\n    return (0, _utils.isDxMouseWheelEvent)(e) ? this._validateWheel(e) : this._validateMove(e);\n  },\n  _validateWheel: function _validateWheel(e) {\n    var _this7 = this;\n\n    var scroller = this._scrollers[this._wheelDirection(e)];\n\n    var reachedMin = scroller._reachedMin();\n\n    var reachedMax = scroller._reachedMax();\n\n    var contentGreaterThanContainer = !reachedMin || !reachedMax;\n    var locatedNotAtBound = !reachedMin && !reachedMax;\n    var scrollFromMin = reachedMin && e.delta > 0;\n    var scrollFromMax = reachedMax && e.delta < 0;\n    var validated = contentGreaterThanContainer && (locatedNotAtBound || scrollFromMin || scrollFromMax);\n    validated = validated || void 0 !== this._validateWheelTimer;\n\n    if (validated) {\n      clearTimeout(this._validateWheelTimer);\n      this._validateWheelTimer = setTimeout(function () {\n        _this7._validateWheelTimer = void 0;\n      }, VALIDATE_WHEEL_TIMEOUT);\n    }\n\n    return validated;\n  },\n  _validateMove: function _validateMove(e) {\n    if (!this.option(\"scrollByContent\") && !(0, _renderer2.default)(e.target).closest(\".\".concat(SCROLLABLE_SCROLLBAR_CLASS)).length) {\n      return false;\n    }\n\n    return this._allowedDirection();\n  },\n  getDirection: function getDirection(e) {\n    return (0, _utils.isDxMouseWheelEvent)(e) ? this._wheelDirection(e) : this._allowedDirection();\n  },\n  _wheelProp: function _wheelProp() {\n    return this._wheelDirection() === HORIZONTAL ? \"left\" : \"top\";\n  },\n  _wheelDirection: function _wheelDirection(e) {\n    switch (this.option(\"direction\")) {\n      case HORIZONTAL:\n        return HORIZONTAL;\n\n      case VERTICAL:\n        return VERTICAL;\n\n      default:\n        return e && e.shiftKey ? HORIZONTAL : VERTICAL;\n    }\n  },\n  verticalOffset: function verticalOffset() {\n    return 0;\n  },\n  dispose: function dispose() {\n    this._resetActive();\n\n    if (hoveredScrollable === this) {\n      hoveredScrollable = null;\n    }\n\n    this._eventHandler(\"dispose\");\n\n    this._detachEventHandlers();\n\n    this._$element.removeClass(SCROLLABLE_SIMULATED_CLASS);\n\n    this._eventForUserAction = null;\n    clearTimeout(this._validateWheelTimer);\n    clearTimeout(this._updateHandlerTimeout);\n  },\n  _detachEventHandlers: function _detachEventHandlers() {\n    _events_engine2.default.off(this._$element, \".\".concat(SCROLLABLE_SIMULATED_CURSOR));\n\n    _events_engine2.default.off(this._$container, \".\".concat(SCROLLABLE_SIMULATED_KEYBOARD));\n  }\n});\n\nexports.SimulatedStrategy = SimulatedStrategy;\nexports.Scroller = Scroller;","map":{"version":3,"sources":["C:/Users/va112/Documents/Webdev/React/Corona/node_modules/devextreme/ui/scroll_view/ui.scrollable.simulated.js"],"names":["_renderer","require","_renderer2","_interopRequireDefault","_dom_adapter","_dom_adapter2","_events_engine","_events_engine2","_inflector","_extend","_window","_iterator","_type","_translator","_translator2","_class","_class2","_animator","_animator2","_devices","_devices2","_utils","_common","_ui","_ui2","_deferred","obj","__esModule","realDevice","default","real","isSluggishPlatform","platform","SCROLLABLE_SIMULATED","SCROLLABLE_STRATEGY","SCROLLABLE_SIMULATED_CURSOR","SCROLLABLE_SIMULATED_KEYBOARD","SCROLLABLE_SIMULATED_CLASS","SCROLLABLE_SCROLLBARS_HIDDEN","SCROLLABLE_SCROLLBARS_ALWAYSVISIBLE","SCROLLABLE_SCROLLBAR_CLASS","VERTICAL","HORIZONTAL","ACCELERATION","OUT_BOUNDS_ACCELERATION","MIN_VELOCITY_LIMIT","FRAME_DURATION","Math","round","SCROLL_LINE_HEIGHT","VALIDATE_WHEEL_TIMEOUT","BOUNCE_MIN_VELOCITY_LIMIT","BOUNCE_DURATION","BOUNCE_FRAMES","BOUNCE_ACCELERATION_SUM","pow","KEY_CODES","PAGE_UP","PAGE_DOWN","END","HOME","LEFT","UP","RIGHT","DOWN","TAB","InertiaAnimator","inherit","ctor","scroller","callBase","VELOCITY_LIMIT","_isFinished","abs","_velocity","_step","_scrollStep","_acceleration","_inBounds","_complete","_scrollComplete","_stop","_stopComplete","BounceAnimator","_crossBoundOnNextStep","_move","_bounceLocation","Scroller","options","_initOptions","_initAnimators","_initScrollbar","_this","_location","_topReached","_bottomReached","_axis","direction","_prop","_dimension","_scrollProp","each","optionName","optionValue","_inertiaAnimator","_bounceAnimator","_scrollbar","appendTo","_$container","_direction","visible","_scrollByThumb","visibilityMode","_visibilityModeNormalize","_scrollbarVisible","expandable","_$scrollbar","$element","mode","delta","prevLocation","_suppressBounce","triggerHandler","type","_bounceEnabled","_boundLocation","location","max","min","_maxOffset","_minOffset","_getScaleRatio","_moveContent","_moveScrollbar","_moveContentByTranslator","hasWindow","_scaleRatio","element","_$element","get","realDimension","_getRealDimension","baseDimension","_getBaseDimension","dimension","getBoundingClientRect","dimensionName","titleize","translateOffset","minOffset","_maxScrollPropValue","_translateOffset","targetLocation","resetPosition","_$content","move","moveTo","_hideScrollbar","_completeDeferred","resolve","_scrollToBounds","_bounceAction","_setupBounce","start","boundLocation","bounceDistance","nextLocation","_initHandler","e","_stopDeferred","Deferred","_stopScrolling","_prepareThumbScrolling","promise","deferRenderer","stop","isDxMouseWheelEvent","originalEvent","$target","target","scrollbarClicked","_isScrollbar","_moveToMouseLocation","_thumbScrolling","_isThumb","_crossThumbScrolling","_isAnyThumbScrolling","feedbackOn","_isThumbScrollingHandler","mouseLocation","toUpperCase","offset","_containerToContentRatio","height","_startHandler","_showScrollbar","_moveHandler","_scrollBy","_scrollByHandler","containerToContentRatio","_endHandler","velocity","_inertiaHandler","_resetThumbScrolling","_suppressInertia","_inertiaEnabled","_stopHandler","_disposeHandler","remove","_updateHandler","_update","_moveToBounds","_this2","deferUpdate","_resetScaleRatio","_updateLocation","_updateBounds","_updateScrollbar","deferRender","update","locate","_getMaxOffset","_getMinOffset","_contentSize","_containerSize","deferUpdater","_this3","containerSize","contentSize","baseContainerSize","baseContentSize","option","scaleRatio","locationChanged","_scrollAction","_createActionsHandler","actions","scroll","bounce","isOverflowHidden","css","containerScrollSize","_validateEvent","_isContent","isThumb","is","_scrollByContent","closest","length","_reachedMin","_reachedMax","_cursorEnterHandler","cursorEnter","_cursorLeaveHandler","cursorLeave","dispose","noop","hoveredScrollable","activeScrollable","SimulatedStrategy","scrollable","_init","_component","_$wrapper","bind","_createActionByOption","_isLocked","_isDirection","_allowedDirection","render","addClass","_createScrollers","prop","_attachKeyboardHandler","_attachCursorHandlers","_scrollers","_createScroller","toggleClass","_scrollerOptions","$content","$container","$wrapper","scrollByContent","scrollByThumb","scrollbarVisible","bounceEnabled","inertiaEnabled","isAnyThumbScrolling","_applyScaleRatio","_getPropByDirection","isDefined","result","_eventHandler","done","isThumbScrollingVertical","isThumbScrollingHorizontal","handleInit","_suppressDirections","_eventForUserAction","_stopAction","_prepareDirections","_eachScroller","isValid","_validDirections","value","callback","handleStart","_startAction","_saveActive","_resetActive","handleMove","cancel","preventDefault","_adjustDistance","distance","x","y","devicePixelRatio","_tryGetDevicePixelRatio","getWindow","handleEnd","_refreshCursorState","_endAction","handleCancel","handleStop","handleScroll","off","concat","on","addNamespace","_keyDownHandler","_this4","clearTimeout","_updateHandlerTimeout","setTimeout","normalizeKeyName","getActiveElement","handled","_scrollByLine","_scrollByPage","_scrollToHome","_scrollToEnd","stopPropagation","lines","scrollOffset","scrollBy","top","left","page","_wheelProp","_dimensionByProp","scrollTo","createActions","_createActionHandler","_updateAction","_createScrollerActions","_arguments","arguments","_this5","actionHandler","extend","_createActionArgs","scrollerX","scrollerY","_scrollOffset","event","reachedLeft","reachedRight","reachedTop","reachedBottom","eventName","args","slice","call","deferreds","map","apply","when","scrollTop","scrollLeft","disabledChanged","_isHoverMode","_hoverHandled","relatedTarget","$scrollable","targetScrollable","data","_this6","allowedDirections","_allowedDirections","touchDirection","vertical","horizontal","verticalScroller","horizontalScroller","updateBounds","validate","_validateWheel","_validateMove","_this7","_wheelDirection","reachedMin","reachedMax","contentGreaterThanContainer","locatedNotAtBound","scrollFromMin","scrollFromMax","validated","_validateWheelTimer","getDirection","shiftKey","verticalOffset","_detachEventHandlers","removeClass","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/scroll_view/ui.scrollable.simulated.js)\r\n * Version: 19.2.7\r\n * Build date: Thu Mar 26 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _renderer = require(\"../../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _dom_adapter = require(\"../../core/dom_adapter\");\r\nvar _dom_adapter2 = _interopRequireDefault(_dom_adapter);\r\nvar _events_engine = require(\"../../events/core/events_engine\");\r\nvar _events_engine2 = _interopRequireDefault(_events_engine);\r\nvar _inflector = require(\"../../core/utils/inflector\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _window = require(\"../../core/utils/window\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _translator = require(\"../../animation/translator\");\r\nvar _translator2 = _interopRequireDefault(_translator);\r\nvar _class = require(\"../../core/class\");\r\nvar _class2 = _interopRequireDefault(_class);\r\nvar _animator = require(\"./animator\");\r\nvar _animator2 = _interopRequireDefault(_animator);\r\nvar _devices = require(\"../../core/devices\");\r\nvar _devices2 = _interopRequireDefault(_devices);\r\nvar _utils = require(\"../../events/utils\");\r\nvar _common = require(\"../../core/utils/common\");\r\nvar _ui = require(\"./ui.scrollbar\");\r\nvar _ui2 = _interopRequireDefault(_ui);\r\nvar _deferred = require(\"../../core/utils/deferred\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar realDevice = _devices2.default.real;\r\nvar isSluggishPlatform = \"android\" === realDevice.platform;\r\nvar SCROLLABLE_SIMULATED = \"dxSimulatedScrollable\";\r\nvar SCROLLABLE_STRATEGY = \"dxScrollableStrategy\";\r\nvar SCROLLABLE_SIMULATED_CURSOR = SCROLLABLE_SIMULATED + \"Cursor\";\r\nvar SCROLLABLE_SIMULATED_KEYBOARD = SCROLLABLE_SIMULATED + \"Keyboard\";\r\nvar SCROLLABLE_SIMULATED_CLASS = \"dx-scrollable-simulated\";\r\nvar SCROLLABLE_SCROLLBARS_HIDDEN = \"dx-scrollable-scrollbars-hidden\";\r\nvar SCROLLABLE_SCROLLBARS_ALWAYSVISIBLE = \"dx-scrollable-scrollbars-alwaysvisible\";\r\nvar SCROLLABLE_SCROLLBAR_CLASS = \"dx-scrollable-scrollbar\";\r\nvar VERTICAL = \"vertical\";\r\nvar HORIZONTAL = \"horizontal\";\r\nvar ACCELERATION = isSluggishPlatform ? .95 : .92;\r\nvar OUT_BOUNDS_ACCELERATION = .5;\r\nvar MIN_VELOCITY_LIMIT = 1;\r\nvar FRAME_DURATION = Math.round(1e3 / 60);\r\nvar SCROLL_LINE_HEIGHT = 40;\r\nvar VALIDATE_WHEEL_TIMEOUT = 500;\r\nvar BOUNCE_MIN_VELOCITY_LIMIT = MIN_VELOCITY_LIMIT / 5;\r\nvar BOUNCE_DURATION = isSluggishPlatform ? 300 : 400;\r\nvar BOUNCE_FRAMES = BOUNCE_DURATION / FRAME_DURATION;\r\nvar BOUNCE_ACCELERATION_SUM = (1 - Math.pow(ACCELERATION, BOUNCE_FRAMES)) / (1 - ACCELERATION);\r\nvar KEY_CODES = {\r\n    PAGE_UP: \"pageUp\",\r\n    PAGE_DOWN: \"pageDown\",\r\n    END: \"end\",\r\n    HOME: \"home\",\r\n    LEFT: \"leftArrow\",\r\n    UP: \"upArrow\",\r\n    RIGHT: \"rightArrow\",\r\n    DOWN: \"downArrow\",\r\n    TAB: \"tab\"\r\n};\r\nvar InertiaAnimator = _animator2.default.inherit({\r\n    ctor: function(scroller) {\r\n        this.callBase();\r\n        this.scroller = scroller\r\n    },\r\n    VELOCITY_LIMIT: MIN_VELOCITY_LIMIT,\r\n    _isFinished: function() {\r\n        return Math.abs(this.scroller._velocity) <= this.VELOCITY_LIMIT\r\n    },\r\n    _step: function() {\r\n        this.scroller._scrollStep(this.scroller._velocity);\r\n        this.scroller._velocity *= this._acceleration()\r\n    },\r\n    _acceleration: function() {\r\n        return this.scroller._inBounds() ? ACCELERATION : OUT_BOUNDS_ACCELERATION\r\n    },\r\n    _complete: function() {\r\n        this.scroller._scrollComplete()\r\n    },\r\n    _stop: function() {\r\n        this.scroller._stopComplete()\r\n    }\r\n});\r\nvar BounceAnimator = InertiaAnimator.inherit({\r\n    VELOCITY_LIMIT: BOUNCE_MIN_VELOCITY_LIMIT,\r\n    _isFinished: function() {\r\n        return this.scroller._crossBoundOnNextStep() || this.callBase()\r\n    },\r\n    _acceleration: function() {\r\n        return ACCELERATION\r\n    },\r\n    _complete: function() {\r\n        this.scroller._move(this.scroller._bounceLocation);\r\n        this.callBase()\r\n    }\r\n});\r\nvar Scroller = _class2.default.inherit({\r\n    ctor: function(options) {\r\n        this._initOptions(options);\r\n        this._initAnimators();\r\n        this._initScrollbar()\r\n    },\r\n    _initOptions: function(options) {\r\n        var _this = this;\r\n        this._location = 0;\r\n        this._topReached = false;\r\n        this._bottomReached = false;\r\n        this._axis = options.direction === HORIZONTAL ? \"x\" : \"y\";\r\n        this._prop = options.direction === HORIZONTAL ? \"left\" : \"top\";\r\n        this._dimension = options.direction === HORIZONTAL ? \"width\" : \"height\";\r\n        this._scrollProp = options.direction === HORIZONTAL ? \"scrollLeft\" : \"scrollTop\";\r\n        (0, _iterator.each)(options, function(optionName, optionValue) {\r\n            _this[\"_\" + optionName] = optionValue\r\n        })\r\n    },\r\n    _initAnimators: function() {\r\n        this._inertiaAnimator = new InertiaAnimator(this);\r\n        this._bounceAnimator = new BounceAnimator(this)\r\n    },\r\n    _initScrollbar: function() {\r\n        this._scrollbar = new _ui2.default((0, _renderer2.default)(\"<div>\").appendTo(this._$container), {\r\n            direction: this._direction,\r\n            visible: this._scrollByThumb,\r\n            visibilityMode: this._visibilityModeNormalize(this._scrollbarVisible),\r\n            expandable: this._scrollByThumb\r\n        });\r\n        this._$scrollbar = this._scrollbar.$element()\r\n    },\r\n    _visibilityModeNormalize: function(mode) {\r\n        return true === mode ? \"onScroll\" : false === mode ? \"never\" : mode\r\n    },\r\n    _scrollStep: function(delta) {\r\n        var prevLocation = this._location;\r\n        this._location += delta;\r\n        this._suppressBounce();\r\n        this._move();\r\n        if (Math.abs(prevLocation - this._location) < 1) {\r\n            return\r\n        }\r\n        _events_engine2.default.triggerHandler(this._$container, {\r\n            type: \"scroll\"\r\n        })\r\n    },\r\n    _suppressBounce: function() {\r\n        if (this._bounceEnabled || this._inBounds(this._location)) {\r\n            return\r\n        }\r\n        this._velocity = 0;\r\n        this._location = this._boundLocation()\r\n    },\r\n    _boundLocation: function(location) {\r\n        location = void 0 !== location ? location : this._location;\r\n        return Math.max(Math.min(location, this._maxOffset), this._minOffset)\r\n    },\r\n    _move: function(location) {\r\n        this._location = void 0 !== location ? location * this._getScaleRatio() : this._location;\r\n        this._moveContent();\r\n        this._moveScrollbar()\r\n    },\r\n    _moveContent: function() {\r\n        var location = this._location;\r\n        this._$container[this._scrollProp](-location / this._getScaleRatio());\r\n        this._moveContentByTranslator(location)\r\n    },\r\n    _getScaleRatio: function() {\r\n        if ((0, _window.hasWindow)() && !this._scaleRatio) {\r\n            var element = this._$element.get(0);\r\n            var realDimension = this._getRealDimension(element, this._dimension);\r\n            var baseDimension = this._getBaseDimension(element, this._dimension);\r\n            this._scaleRatio = Math.round(realDimension / baseDimension * 100) / 100\r\n        }\r\n        return this._scaleRatio || 1\r\n    },\r\n    _getRealDimension: function(element, dimension) {\r\n        return Math.round(element.getBoundingClientRect()[dimension])\r\n    },\r\n    _getBaseDimension: function(element, dimension) {\r\n        var dimensionName = \"offset\" + (0, _inflector.titleize)(dimension);\r\n        return element[dimensionName]\r\n    },\r\n    _moveContentByTranslator: function(location) {\r\n        var translateOffset;\r\n        var minOffset = -this._maxScrollPropValue;\r\n        if (location > 0) {\r\n            translateOffset = location\r\n        } else {\r\n            if (location <= minOffset) {\r\n                translateOffset = location - minOffset\r\n            } else {\r\n                translateOffset = location % 1\r\n            }\r\n        }\r\n        if (this._translateOffset === translateOffset) {\r\n            return\r\n        }\r\n        var targetLocation = {};\r\n        targetLocation[this._prop] = translateOffset;\r\n        this._translateOffset = translateOffset;\r\n        if (0 === translateOffset) {\r\n            _translator2.default.resetPosition(this._$content);\r\n            return\r\n        }\r\n        _translator2.default.move(this._$content, targetLocation)\r\n    },\r\n    _moveScrollbar: function() {\r\n        this._scrollbar.moveTo(this._location)\r\n    },\r\n    _scrollComplete: function() {\r\n        if (this._inBounds()) {\r\n            this._hideScrollbar();\r\n            if (this._completeDeferred) {\r\n                this._completeDeferred.resolve()\r\n            }\r\n        }\r\n        this._scrollToBounds()\r\n    },\r\n    _scrollToBounds: function() {\r\n        if (this._inBounds()) {\r\n            return\r\n        }\r\n        this._bounceAction();\r\n        this._setupBounce();\r\n        this._bounceAnimator.start()\r\n    },\r\n    _setupBounce: function() {\r\n        var boundLocation = this._bounceLocation = this._boundLocation();\r\n        var bounceDistance = boundLocation - this._location;\r\n        this._velocity = bounceDistance / BOUNCE_ACCELERATION_SUM\r\n    },\r\n    _inBounds: function(location) {\r\n        location = void 0 !== location ? location : this._location;\r\n        return this._boundLocation(location) === location\r\n    },\r\n    _crossBoundOnNextStep: function() {\r\n        var location = this._location;\r\n        var nextLocation = location + this._velocity;\r\n        return location < this._minOffset && nextLocation >= this._minOffset || location > this._maxOffset && nextLocation <= this._maxOffset\r\n    },\r\n    _initHandler: function(e) {\r\n        this._stopDeferred = new _deferred.Deferred;\r\n        this._stopScrolling();\r\n        this._prepareThumbScrolling(e);\r\n        return this._stopDeferred.promise()\r\n    },\r\n    _stopScrolling: (0, _common.deferRenderer)(function() {\r\n        this._hideScrollbar();\r\n        this._inertiaAnimator.stop();\r\n        this._bounceAnimator.stop()\r\n    }),\r\n    _prepareThumbScrolling: function(e) {\r\n        if ((0, _utils.isDxMouseWheelEvent)(e.originalEvent)) {\r\n            return\r\n        }\r\n        var $target = (0, _renderer2.default)(e.originalEvent.target);\r\n        var scrollbarClicked = this._isScrollbar($target);\r\n        if (scrollbarClicked) {\r\n            this._moveToMouseLocation(e)\r\n        }\r\n        this._thumbScrolling = scrollbarClicked || this._isThumb($target);\r\n        this._crossThumbScrolling = !this._thumbScrolling && this._isAnyThumbScrolling($target);\r\n        if (this._thumbScrolling) {\r\n            this._scrollbar.feedbackOn()\r\n        }\r\n    },\r\n    _isThumbScrollingHandler: function($target) {\r\n        return this._isThumb($target)\r\n    },\r\n    _moveToMouseLocation: function(e) {\r\n        var mouseLocation = e[\"page\" + this._axis.toUpperCase()] - this._$element.offset()[this._prop];\r\n        var location = this._location + mouseLocation / this._containerToContentRatio() - this._$container.height() / 2;\r\n        this._scrollStep(-Math.round(location))\r\n    },\r\n    _stopComplete: function() {\r\n        if (this._stopDeferred) {\r\n            this._stopDeferred.resolve()\r\n        }\r\n    },\r\n    _startHandler: function() {\r\n        this._showScrollbar()\r\n    },\r\n    _moveHandler: function(delta) {\r\n        if (this._crossThumbScrolling) {\r\n            return\r\n        }\r\n        if (this._thumbScrolling) {\r\n            delta[this._axis] = -Math.round(delta[this._axis] / this._containerToContentRatio())\r\n        }\r\n        this._scrollBy(delta)\r\n    },\r\n    _scrollBy: function(delta) {\r\n        delta = delta[this._axis];\r\n        if (!this._inBounds()) {\r\n            delta *= OUT_BOUNDS_ACCELERATION\r\n        }\r\n        this._scrollStep(delta)\r\n    },\r\n    _scrollByHandler: function(delta) {\r\n        this._scrollBy(delta);\r\n        this._scrollComplete()\r\n    },\r\n    _containerToContentRatio: function() {\r\n        return this._scrollbar.containerToContentRatio()\r\n    },\r\n    _endHandler: function(velocity) {\r\n        this._completeDeferred = new _deferred.Deferred;\r\n        this._velocity = velocity[this._axis];\r\n        this._inertiaHandler();\r\n        this._resetThumbScrolling();\r\n        return this._completeDeferred.promise()\r\n    },\r\n    _inertiaHandler: function() {\r\n        this._suppressInertia();\r\n        this._inertiaAnimator.start()\r\n    },\r\n    _suppressInertia: function() {\r\n        if (!this._inertiaEnabled || this._thumbScrolling) {\r\n            this._velocity = 0\r\n        }\r\n    },\r\n    _resetThumbScrolling: function() {\r\n        this._thumbScrolling = false;\r\n        this._crossThumbScrolling = false\r\n    },\r\n    _stopHandler: function() {\r\n        if (this._thumbScrolling) {\r\n            this._scrollComplete()\r\n        }\r\n        this._resetThumbScrolling();\r\n        this._scrollToBounds()\r\n    },\r\n    _disposeHandler: function() {\r\n        this._stopScrolling();\r\n        this._$scrollbar.remove()\r\n    },\r\n    _updateHandler: function() {\r\n        this._update();\r\n        this._moveToBounds()\r\n    },\r\n    _update: function() {\r\n        var _this2 = this;\r\n        this._stopScrolling();\r\n        return (0, _common.deferUpdate)(function() {\r\n            _this2._resetScaleRatio();\r\n            _this2._updateLocation();\r\n            _this2._updateBounds();\r\n            _this2._updateScrollbar();\r\n            (0, _common.deferRender)(function() {\r\n                _this2._moveScrollbar();\r\n                _this2._scrollbar.update()\r\n            })\r\n        })\r\n    },\r\n    _resetScaleRatio: function() {\r\n        this._scaleRatio = null\r\n    },\r\n    _updateLocation: function() {\r\n        this._location = (_translator2.default.locate(this._$content)[this._prop] - this._$container[this._scrollProp]()) * this._getScaleRatio()\r\n    },\r\n    _updateBounds: function() {\r\n        this._maxOffset = Math.round(this._getMaxOffset());\r\n        this._minOffset = Math.round(this._getMinOffset())\r\n    },\r\n    _getMaxOffset: function() {\r\n        return 0\r\n    },\r\n    _getMinOffset: function() {\r\n        this._maxScrollPropValue = Math.max(this._contentSize() - this._containerSize(), 0);\r\n        return -this._maxScrollPropValue\r\n    },\r\n    _updateScrollbar: (0, _common.deferUpdater)(function() {\r\n        var _this3 = this;\r\n        var containerSize = this._containerSize();\r\n        var contentSize = this._contentSize();\r\n        var baseContainerSize = this._getBaseDimension(this._$container.get(0), this._dimension);\r\n        var baseContentSize = this._getBaseDimension(this._$content.get(0), this._dimension);\r\n        (0, _common.deferRender)(function() {\r\n            _this3._scrollbar.option({\r\n                containerSize: containerSize,\r\n                contentSize: contentSize,\r\n                baseContainerSize: baseContainerSize,\r\n                baseContentSize: baseContentSize,\r\n                scaleRatio: _this3._getScaleRatio()\r\n            })\r\n        })\r\n    }),\r\n    _moveToBounds: (0, _common.deferRenderer)((0, _common.deferUpdater)((0, _common.deferRenderer)(function() {\r\n        var location = this._boundLocation();\r\n        var locationChanged = location !== this._location;\r\n        this._location = location;\r\n        this._move();\r\n        if (locationChanged) {\r\n            this._scrollAction()\r\n        }\r\n    }))),\r\n    _createActionsHandler: function(actions) {\r\n        this._scrollAction = actions.scroll;\r\n        this._bounceAction = actions.bounce\r\n    },\r\n    _showScrollbar: function() {\r\n        this._scrollbar.option(\"visible\", true)\r\n    },\r\n    _hideScrollbar: function() {\r\n        this._scrollbar.option(\"visible\", false)\r\n    },\r\n    _containerSize: function() {\r\n        return this._getRealDimension(this._$container.get(0), this._dimension)\r\n    },\r\n    _contentSize: function() {\r\n        var isOverflowHidden = \"hidden\" === this._$content.css(\"overflow\" + this._axis.toUpperCase());\r\n        var contentSize = this._getRealDimension(this._$content.get(0), this._dimension);\r\n        if (!isOverflowHidden) {\r\n            var containerScrollSize = this._$content[0][\"scroll\" + (0, _inflector.titleize)(this._dimension)] * this._getScaleRatio();\r\n            contentSize = Math.max(containerScrollSize, contentSize)\r\n        }\r\n        return contentSize\r\n    },\r\n    _validateEvent: function(e) {\r\n        var $target = (0, _renderer2.default)(e.originalEvent.target);\r\n        return this._isThumb($target) || this._isScrollbar($target) || this._isContent($target)\r\n    },\r\n    _isThumb: function($element) {\r\n        return this._scrollByThumb && this._scrollbar.isThumb($element)\r\n    },\r\n    _isScrollbar: function($element) {\r\n        return this._scrollByThumb && $element && $element.is(this._$scrollbar)\r\n    },\r\n    _isContent: function($element) {\r\n        return this._scrollByContent && !!$element.closest(this._$element).length\r\n    },\r\n    _reachedMin: function() {\r\n        return this._location <= this._minOffset\r\n    },\r\n    _reachedMax: function() {\r\n        return this._location >= this._maxOffset\r\n    },\r\n    _cursorEnterHandler: function() {\r\n        this._updateScrollbar();\r\n        this._scrollbar.cursorEnter()\r\n    },\r\n    _cursorLeaveHandler: function() {\r\n        this._scrollbar.cursorLeave()\r\n    },\r\n    dispose: _common.noop\r\n});\r\nvar hoveredScrollable;\r\nvar activeScrollable;\r\nvar SimulatedStrategy = _class2.default.inherit({\r\n    ctor: function(scrollable) {\r\n        this._init(scrollable)\r\n    },\r\n    _init: function(scrollable) {\r\n        this._component = scrollable;\r\n        this._$element = scrollable.$element();\r\n        this._$container = scrollable._$container;\r\n        this._$wrapper = scrollable._$wrapper;\r\n        this._$content = scrollable._$content;\r\n        this.option = scrollable.option.bind(scrollable);\r\n        this._createActionByOption = scrollable._createActionByOption.bind(scrollable);\r\n        this._isLocked = scrollable._isLocked.bind(scrollable);\r\n        this._isDirection = scrollable._isDirection.bind(scrollable);\r\n        this._allowedDirection = scrollable._allowedDirection.bind(scrollable)\r\n    },\r\n    render: function() {\r\n        this._$element.addClass(SCROLLABLE_SIMULATED_CLASS);\r\n        this._createScrollers();\r\n        if (this.option(\"useKeyboard\")) {\r\n            this._$container.prop(\"tabIndex\", 0)\r\n        }\r\n        this._attachKeyboardHandler();\r\n        this._attachCursorHandlers()\r\n    },\r\n    _createScrollers: function() {\r\n        this._scrollers = {};\r\n        if (this._isDirection(HORIZONTAL)) {\r\n            this._createScroller(HORIZONTAL)\r\n        }\r\n        if (this._isDirection(VERTICAL)) {\r\n            this._createScroller(VERTICAL)\r\n        }\r\n        this._$element.toggleClass(SCROLLABLE_SCROLLBARS_ALWAYSVISIBLE, \"always\" === this.option(\"showScrollbar\"));\r\n        this._$element.toggleClass(SCROLLABLE_SCROLLBARS_HIDDEN, !this.option(\"showScrollbar\"))\r\n    },\r\n    _createScroller: function(direction) {\r\n        this._scrollers[direction] = new Scroller(this._scrollerOptions(direction))\r\n    },\r\n    _scrollerOptions: function(direction) {\r\n        return {\r\n            direction: direction,\r\n            $content: this._$content,\r\n            $container: this._$container,\r\n            $wrapper: this._$wrapper,\r\n            $element: this._$element,\r\n            scrollByContent: this.option(\"scrollByContent\"),\r\n            scrollByThumb: this.option(\"scrollByThumb\"),\r\n            scrollbarVisible: this.option(\"showScrollbar\"),\r\n            bounceEnabled: this.option(\"bounceEnabled\"),\r\n            inertiaEnabled: this.option(\"inertiaEnabled\"),\r\n            isAnyThumbScrolling: this._isAnyThumbScrolling.bind(this)\r\n        }\r\n    },\r\n    _applyScaleRatio: function(targetLocation) {\r\n        for (var direction in this._scrollers) {\r\n            var prop = this._getPropByDirection(direction);\r\n            if ((0, _type.isDefined)(targetLocation[prop])) {\r\n                var scroller = this._scrollers[direction];\r\n                targetLocation[prop] *= scroller._getScaleRatio()\r\n            }\r\n        }\r\n        return targetLocation\r\n    },\r\n    _isAnyThumbScrolling: function($target) {\r\n        var result = false;\r\n        this._eventHandler(\"isThumbScrolling\", $target).done(function(isThumbScrollingVertical, isThumbScrollingHorizontal) {\r\n            result = isThumbScrollingVertical || isThumbScrollingHorizontal\r\n        });\r\n        return result\r\n    },\r\n    handleInit: function(e) {\r\n        this._suppressDirections(e);\r\n        this._eventForUserAction = e;\r\n        this._eventHandler(\"init\", e).done(this._stopAction)\r\n    },\r\n    _suppressDirections: function(e) {\r\n        if ((0, _utils.isDxMouseWheelEvent)(e.originalEvent)) {\r\n            this._prepareDirections(true);\r\n            return\r\n        }\r\n        this._prepareDirections();\r\n        this._eachScroller(function(scroller, direction) {\r\n            var isValid = scroller._validateEvent(e);\r\n            this._validDirections[direction] = isValid\r\n        })\r\n    },\r\n    _prepareDirections: function(value) {\r\n        value = value || false;\r\n        this._validDirections = {};\r\n        this._validDirections[HORIZONTAL] = value;\r\n        this._validDirections[VERTICAL] = value\r\n    },\r\n    _eachScroller: function(callback) {\r\n        callback = callback.bind(this);\r\n        (0, _iterator.each)(this._scrollers, function(direction, scroller) {\r\n            callback(scroller, direction)\r\n        })\r\n    },\r\n    handleStart: function(e) {\r\n        this._eventForUserAction = e;\r\n        this._eventHandler(\"start\").done(this._startAction)\r\n    },\r\n    _saveActive: function() {\r\n        activeScrollable = this\r\n    },\r\n    _resetActive: function() {\r\n        if (activeScrollable === this) {\r\n            activeScrollable = null\r\n        }\r\n    },\r\n    handleMove: function(e) {\r\n        if (this._isLocked()) {\r\n            e.cancel = true;\r\n            this._resetActive();\r\n            return\r\n        }\r\n        this._saveActive();\r\n        e.preventDefault && e.preventDefault();\r\n        this._adjustDistance(e, e.delta);\r\n        this._eventForUserAction = e;\r\n        this._eventHandler(\"move\", e.delta)\r\n    },\r\n    _adjustDistance: function(e, distance) {\r\n        distance.x *= this._validDirections[HORIZONTAL];\r\n        distance.y *= this._validDirections[VERTICAL];\r\n        var devicePixelRatio = this._tryGetDevicePixelRatio();\r\n        if (devicePixelRatio && (0, _utils.isDxMouseWheelEvent)(e.originalEvent)) {\r\n            distance.x = Math.round(distance.x / devicePixelRatio * 100) / 100;\r\n            distance.y = Math.round(distance.y / devicePixelRatio * 100) / 100\r\n        }\r\n    },\r\n    _tryGetDevicePixelRatio: function() {\r\n        if ((0, _window.hasWindow)()) {\r\n            return (0, _window.getWindow)().devicePixelRatio\r\n        }\r\n    },\r\n    handleEnd: function(e) {\r\n        this._resetActive();\r\n        this._refreshCursorState(e.originalEvent && e.originalEvent.target);\r\n        this._adjustDistance(e, e.velocity);\r\n        this._eventForUserAction = e;\r\n        return this._eventHandler(\"end\", e.velocity).done(this._endAction)\r\n    },\r\n    handleCancel: function(e) {\r\n        this._resetActive();\r\n        this._eventForUserAction = e;\r\n        return this._eventHandler(\"end\", {\r\n            x: 0,\r\n            y: 0\r\n        })\r\n    },\r\n    handleStop: function() {\r\n        this._resetActive();\r\n        this._eventHandler(\"stop\")\r\n    },\r\n    handleScroll: function() {\r\n        this._scrollAction()\r\n    },\r\n    _attachKeyboardHandler: function() {\r\n        _events_engine2.default.off(this._$element, \".\".concat(SCROLLABLE_SIMULATED_KEYBOARD));\r\n        if (!this.option(\"disabled\") && this.option(\"useKeyboard\")) {\r\n            _events_engine2.default.on(this._$element, (0, _utils.addNamespace)(\"keydown\", SCROLLABLE_SIMULATED_KEYBOARD), this._keyDownHandler.bind(this))\r\n        }\r\n    },\r\n    _keyDownHandler: function(e) {\r\n        var _this4 = this;\r\n        clearTimeout(this._updateHandlerTimeout);\r\n        this._updateHandlerTimeout = setTimeout(function() {\r\n            if ((0, _utils.normalizeKeyName)(e) === KEY_CODES.TAB) {\r\n                _this4._eachScroller(function(scroller) {\r\n                    scroller._updateHandler()\r\n                })\r\n            }\r\n        });\r\n        if (!this._$container.is(_dom_adapter2.default.getActiveElement())) {\r\n            return\r\n        }\r\n        var handled = true;\r\n        switch ((0, _utils.normalizeKeyName)(e)) {\r\n            case KEY_CODES.DOWN:\r\n                this._scrollByLine({\r\n                    y: 1\r\n                });\r\n                break;\r\n            case KEY_CODES.UP:\r\n                this._scrollByLine({\r\n                    y: -1\r\n                });\r\n                break;\r\n            case KEY_CODES.RIGHT:\r\n                this._scrollByLine({\r\n                    x: 1\r\n                });\r\n                break;\r\n            case KEY_CODES.LEFT:\r\n                this._scrollByLine({\r\n                    x: -1\r\n                });\r\n                break;\r\n            case KEY_CODES.PAGE_DOWN:\r\n                this._scrollByPage(1);\r\n                break;\r\n            case KEY_CODES.PAGE_UP:\r\n                this._scrollByPage(-1);\r\n                break;\r\n            case KEY_CODES.HOME:\r\n                this._scrollToHome();\r\n                break;\r\n            case KEY_CODES.END:\r\n                this._scrollToEnd();\r\n                break;\r\n            default:\r\n                handled = false\r\n        }\r\n        if (handled) {\r\n            e.stopPropagation();\r\n            e.preventDefault()\r\n        }\r\n    },\r\n    _scrollByLine: function(lines) {\r\n        var devicePixelRatio = this._tryGetDevicePixelRatio();\r\n        var scrollOffset = SCROLL_LINE_HEIGHT;\r\n        if (devicePixelRatio) {\r\n            scrollOffset = Math.abs(scrollOffset / devicePixelRatio * 100) / 100\r\n        }\r\n        this.scrollBy({\r\n            top: (lines.y || 0) * -scrollOffset,\r\n            left: (lines.x || 0) * -scrollOffset\r\n        })\r\n    },\r\n    _scrollByPage: function(page) {\r\n        var prop = this._wheelProp();\r\n        var dimension = this._dimensionByProp(prop);\r\n        var distance = {};\r\n        distance[prop] = page * -this._$container[dimension]();\r\n        this.scrollBy(distance)\r\n    },\r\n    _dimensionByProp: function(prop) {\r\n        return \"left\" === prop ? \"width\" : \"height\"\r\n    },\r\n    _getPropByDirection: function(direction) {\r\n        return direction === HORIZONTAL ? \"left\" : \"top\"\r\n    },\r\n    _scrollToHome: function() {\r\n        var prop = this._wheelProp();\r\n        var distance = {};\r\n        distance[prop] = 0;\r\n        this._component.scrollTo(distance)\r\n    },\r\n    _scrollToEnd: function() {\r\n        var prop = this._wheelProp();\r\n        var dimension = this._dimensionByProp(prop);\r\n        var distance = {};\r\n        distance[prop] = this._$content[dimension]() - this._$container[dimension]();\r\n        this._component.scrollTo(distance)\r\n    },\r\n    createActions: function() {\r\n        this._startAction = this._createActionHandler(\"onStart\");\r\n        this._stopAction = this._createActionHandler(\"onStop\");\r\n        this._endAction = this._createActionHandler(\"onEnd\");\r\n        this._updateAction = this._createActionHandler(\"onUpdated\");\r\n        this._createScrollerActions()\r\n    },\r\n    _createScrollerActions: function() {\r\n        this._scrollAction = this._createActionHandler(\"onScroll\");\r\n        this._bounceAction = this._createActionHandler(\"onBounce\");\r\n        this._eventHandler(\"createActions\", {\r\n            scroll: this._scrollAction,\r\n            bounce: this._bounceAction\r\n        })\r\n    },\r\n    _createActionHandler: function(optionName) {\r\n        var _arguments = arguments,\r\n            _this5 = this;\r\n        var actionHandler = this._createActionByOption(optionName);\r\n        return function() {\r\n            actionHandler((0, _extend.extend)(_this5._createActionArgs(), _arguments))\r\n        }\r\n    },\r\n    _createActionArgs: function() {\r\n        var scrollerX = this._scrollers[HORIZONTAL];\r\n        var scrollerY = this._scrollers[VERTICAL];\r\n        var location = this.location();\r\n        this._scrollOffset = {\r\n            top: scrollerY && -location.top,\r\n            left: scrollerX && -location.left\r\n        };\r\n        return {\r\n            event: this._eventForUserAction,\r\n            scrollOffset: this._scrollOffset,\r\n            reachedLeft: scrollerX && scrollerX._reachedMax(),\r\n            reachedRight: scrollerX && scrollerX._reachedMin(),\r\n            reachedTop: scrollerY && scrollerY._reachedMax(),\r\n            reachedBottom: scrollerY && scrollerY._reachedMin()\r\n        }\r\n    },\r\n    _eventHandler: function(eventName) {\r\n        var args = [].slice.call(arguments).slice(1);\r\n        var deferreds = (0, _iterator.map)(this._scrollers, function(scroller) {\r\n            return scroller[\"_\" + eventName + \"Handler\"].apply(scroller, args)\r\n        });\r\n        return _deferred.when.apply(_renderer2.default, deferreds).promise()\r\n    },\r\n    location: function location() {\r\n        var location = _translator2.default.locate(this._$content);\r\n        location.top -= this._$container.scrollTop();\r\n        location.left -= this._$container.scrollLeft();\r\n        return location\r\n    },\r\n    disabledChanged: function() {\r\n        this._attachCursorHandlers()\r\n    },\r\n    _attachCursorHandlers: function() {\r\n        _events_engine2.default.off(this._$element, \".\".concat(SCROLLABLE_SIMULATED_CURSOR));\r\n        if (!this.option(\"disabled\") && this._isHoverMode()) {\r\n            _events_engine2.default.on(this._$element, (0, _utils.addNamespace)(\"mouseenter\", SCROLLABLE_SIMULATED_CURSOR), this._cursorEnterHandler.bind(this));\r\n            _events_engine2.default.on(this._$element, (0, _utils.addNamespace)(\"mouseleave\", SCROLLABLE_SIMULATED_CURSOR), this._cursorLeaveHandler.bind(this))\r\n        }\r\n    },\r\n    _isHoverMode: function() {\r\n        return \"onHover\" === this.option(\"showScrollbar\")\r\n    },\r\n    _cursorEnterHandler: function(e) {\r\n        e = e || {};\r\n        e.originalEvent = e.originalEvent || {};\r\n        if (activeScrollable || e.originalEvent._hoverHandled) {\r\n            return\r\n        }\r\n        if (hoveredScrollable) {\r\n            hoveredScrollable._cursorLeaveHandler()\r\n        }\r\n        hoveredScrollable = this;\r\n        this._eventHandler(\"cursorEnter\");\r\n        e.originalEvent._hoverHandled = true\r\n    },\r\n    _cursorLeaveHandler: function(e) {\r\n        if (hoveredScrollable !== this || activeScrollable === hoveredScrollable) {\r\n            return\r\n        }\r\n        this._eventHandler(\"cursorLeave\");\r\n        hoveredScrollable = null;\r\n        this._refreshCursorState(e && e.relatedTarget)\r\n    },\r\n    _refreshCursorState: function(target) {\r\n        if (!this._isHoverMode() && (!target || activeScrollable)) {\r\n            return\r\n        }\r\n        var $target = (0, _renderer2.default)(target);\r\n        var $scrollable = $target.closest(\".\".concat(SCROLLABLE_SIMULATED_CLASS, \":not(.dx-state-disabled)\"));\r\n        var targetScrollable = $scrollable.length && $scrollable.data(SCROLLABLE_STRATEGY);\r\n        if (hoveredScrollable && hoveredScrollable !== targetScrollable) {\r\n            hoveredScrollable._cursorLeaveHandler()\r\n        }\r\n        if (targetScrollable) {\r\n            targetScrollable._cursorEnterHandler()\r\n        }\r\n    },\r\n    update: function() {\r\n        var _this6 = this;\r\n        var result = this._eventHandler(\"update\").done(this._updateAction);\r\n        return (0, _deferred.when)(result, (0, _common.deferUpdate)(function() {\r\n            var allowedDirections = _this6._allowedDirections();\r\n            (0, _common.deferRender)(function() {\r\n                var touchDirection = allowedDirections.vertical ? \"pan-x\" : \"\";\r\n                touchDirection = allowedDirections.horizontal ? \"pan-y\" : touchDirection;\r\n                touchDirection = allowedDirections.vertical && allowedDirections.horizontal ? \"none\" : touchDirection;\r\n                _this6._$container.css(\"touchAction\", touchDirection)\r\n            });\r\n            return (0, _deferred.when)().promise()\r\n        }))\r\n    },\r\n    _allowedDirections: function() {\r\n        var bounceEnabled = this.option(\"bounceEnabled\");\r\n        var verticalScroller = this._scrollers[VERTICAL];\r\n        var horizontalScroller = this._scrollers[HORIZONTAL];\r\n        return {\r\n            vertical: verticalScroller && (verticalScroller._minOffset < 0 || bounceEnabled),\r\n            horizontal: horizontalScroller && (horizontalScroller._minOffset < 0 || bounceEnabled)\r\n        }\r\n    },\r\n    updateBounds: function() {\r\n        this._scrollers[HORIZONTAL] && this._scrollers[HORIZONTAL]._updateBounds()\r\n    },\r\n    scrollBy: function(distance) {\r\n        var verticalScroller = this._scrollers[VERTICAL];\r\n        var horizontalScroller = this._scrollers[HORIZONTAL];\r\n        if (verticalScroller) {\r\n            distance.top = verticalScroller._boundLocation(distance.top + verticalScroller._location) - verticalScroller._location\r\n        }\r\n        if (horizontalScroller) {\r\n            distance.left = horizontalScroller._boundLocation(distance.left + horizontalScroller._location) - horizontalScroller._location\r\n        }\r\n        this._prepareDirections(true);\r\n        this._startAction();\r\n        this._eventHandler(\"scrollBy\", {\r\n            x: distance.left,\r\n            y: distance.top\r\n        });\r\n        this._endAction()\r\n    },\r\n    validate: function(e) {\r\n        if (this.option(\"disabled\")) {\r\n            return false\r\n        }\r\n        if (this.option(\"bounceEnabled\")) {\r\n            return true\r\n        }\r\n        return (0, _utils.isDxMouseWheelEvent)(e) ? this._validateWheel(e) : this._validateMove(e)\r\n    },\r\n    _validateWheel: function(e) {\r\n        var _this7 = this;\r\n        var scroller = this._scrollers[this._wheelDirection(e)];\r\n        var reachedMin = scroller._reachedMin();\r\n        var reachedMax = scroller._reachedMax();\r\n        var contentGreaterThanContainer = !reachedMin || !reachedMax;\r\n        var locatedNotAtBound = !reachedMin && !reachedMax;\r\n        var scrollFromMin = reachedMin && e.delta > 0;\r\n        var scrollFromMax = reachedMax && e.delta < 0;\r\n        var validated = contentGreaterThanContainer && (locatedNotAtBound || scrollFromMin || scrollFromMax);\r\n        validated = validated || void 0 !== this._validateWheelTimer;\r\n        if (validated) {\r\n            clearTimeout(this._validateWheelTimer);\r\n            this._validateWheelTimer = setTimeout(function() {\r\n                _this7._validateWheelTimer = void 0\r\n            }, VALIDATE_WHEEL_TIMEOUT)\r\n        }\r\n        return validated\r\n    },\r\n    _validateMove: function(e) {\r\n        if (!this.option(\"scrollByContent\") && !(0, _renderer2.default)(e.target).closest(\".\".concat(SCROLLABLE_SCROLLBAR_CLASS)).length) {\r\n            return false\r\n        }\r\n        return this._allowedDirection()\r\n    },\r\n    getDirection: function(e) {\r\n        return (0, _utils.isDxMouseWheelEvent)(e) ? this._wheelDirection(e) : this._allowedDirection()\r\n    },\r\n    _wheelProp: function() {\r\n        return this._wheelDirection() === HORIZONTAL ? \"left\" : \"top\"\r\n    },\r\n    _wheelDirection: function(e) {\r\n        switch (this.option(\"direction\")) {\r\n            case HORIZONTAL:\r\n                return HORIZONTAL;\r\n            case VERTICAL:\r\n                return VERTICAL;\r\n            default:\r\n                return e && e.shiftKey ? HORIZONTAL : VERTICAL\r\n        }\r\n    },\r\n    verticalOffset: function() {\r\n        return 0\r\n    },\r\n    dispose: function() {\r\n        this._resetActive();\r\n        if (hoveredScrollable === this) {\r\n            hoveredScrollable = null\r\n        }\r\n        this._eventHandler(\"dispose\");\r\n        this._detachEventHandlers();\r\n        this._$element.removeClass(SCROLLABLE_SIMULATED_CLASS);\r\n        this._eventForUserAction = null;\r\n        clearTimeout(this._validateWheelTimer);\r\n        clearTimeout(this._updateHandlerTimeout)\r\n    },\r\n    _detachEventHandlers: function() {\r\n        _events_engine2.default.off(this._$element, \".\".concat(SCROLLABLE_SIMULATED_CURSOR));\r\n        _events_engine2.default.off(this._$container, \".\".concat(SCROLLABLE_SIMULATED_KEYBOARD))\r\n    }\r\n});\r\nexports.SimulatedStrategy = SimulatedStrategy;\r\nexports.Scroller = Scroller;\r\n"]},"metadata":{},"sourceType":"script"}