{"ast":null,"code":"/**\r\n * DevExtreme (ui/toolbar/ui.toolbar.strategy.js)\r\n * Version: 19.2.7\r\n * Build date: Thu Mar 26 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar $ = require(\"../../core/renderer\");\n\nvar noop = require(\"../../core/utils/common\").noop;\n\nvar each = require(\"../../core/utils/iterator\").each;\n\nvar errors = require(\"../../core/errors\");\n\nvar compileGetter = require(\"../../core/utils/data\").compileGetter;\n\nvar Class = require(\"../../core/class\");\n\nvar Button = require(\"../button\");\n\nvar abstract = Class.abstract;\nvar TOOLBAR_MENU_CONTAINER_CLASS = \"dx-toolbar-menu-container\";\nvar TOOLBAR_MENU_BUTTON_CLASS = \"dx-toolbar-menu-button\";\nvar ToolbarStrategy = Class.inherit({\n  ctor: function ctor(toolbar) {\n    this._toolbar = toolbar;\n  },\n  render: function render() {\n    this._renderMenuButton();\n\n    this._renderWidget();\n  },\n  _widgetOptions: function _widgetOptions() {\n    var itemClickAction = this._toolbar._createActionByOption(\"onItemClick\");\n\n    return {\n      itemTemplate: this._getMenuItemTemplate.bind(this),\n      onItemClick: function (e) {\n        this._toggleMenu(false, true);\n\n        itemClickAction(e);\n      }.bind(this)\n    };\n  },\n  _getMenuItemTemplate: function _getMenuItemTemplate() {\n    return this._toolbar._getTemplateByOption(\"menuItemTemplate\");\n  },\n  _renderWidget: function _renderWidget() {\n    var $menu = $(\"<div>\").appendTo(this._menuContainer());\n    this._menu = this._toolbar._createComponent($menu, this._menuWidgetClass(), this._widgetOptions());\n    this.renderMenuItems();\n  },\n  _menuContainer: abstract,\n  _menuWidgetClass: abstract,\n  _hasVisibleMenuItems: function _hasVisibleMenuItems(items) {\n    var menuItems = items || this._toolbar.option(\"items\");\n\n    var result = false;\n    var optionGetter = compileGetter(\"visible\");\n    var overflowGetter = compileGetter(\"locateInMenu\");\n    var menuLocation = false;\n    each(menuItems, function (index, item) {\n      var itemVisible = optionGetter(item, {\n        functionsAsIs: true\n      });\n      var itemOverflow = overflowGetter(item, {\n        functionsAsIs: true\n      });\n\n      if (\"menu\" === item.location) {\n        menuLocation = true;\n      }\n\n      if (false !== itemVisible && (\"auto\" === itemOverflow || \"always\" === itemOverflow || \"menu\" === item.location)) {\n        result = true;\n      }\n    });\n\n    if (menuLocation) {\n      errors.log(\"W0001\", \"dxToolbar - 'location' item field\", \"menu\", \"16.1\", \"Use 'locateInMenu' item field instead.\");\n    }\n\n    return result;\n  },\n  _getMenuItems: function _getMenuItems() {\n    return this._toolbar._getMenuItems();\n  },\n  _updateMenuVisibility: noop,\n  _renderMenuButton: function _renderMenuButton() {\n    var buttonOptions = this._menuButtonOptions();\n\n    this._renderMenuButtonContainer();\n\n    this._$button = $(\"<div>\").appendTo(this._$menuButtonContainer).addClass(TOOLBAR_MENU_BUTTON_CLASS);\n\n    this._toolbar._createComponent(this._$button, Button, buttonOptions);\n  },\n  _menuButtonOptions: function _menuButtonOptions() {\n    return {\n      onClick: this._menuButtonClickHandler.bind(this)\n    };\n  },\n  _menuButtonClickHandler: function _menuButtonClickHandler() {\n    this._toggleMenu(!this._menuShown, true);\n  },\n  _renderMenuButtonContainer: function _renderMenuButtonContainer() {\n    var $afterSection = this._toolbar._$afterSection;\n    this._$menuButtonContainer = $(\"<div>\").appendTo($afterSection).addClass(this._toolbar._buttonClass()).addClass(TOOLBAR_MENU_CONTAINER_CLASS);\n  },\n  renderMenuItems: function renderMenuItems() {\n    this._menu && this._menu.option(\"items\", this._getMenuItems());\n  },\n  toggleMenuVisibility: function toggleMenuVisibility(visible, animate) {\n    this._menu && this._toggleMenu(visible, animate);\n  },\n  _toggleMenu: function _toggleMenu(visible) {\n    this._menuShown = visible;\n  },\n  getMenuWidget: function getMenuWidget() {\n    return this._menu;\n  },\n  widgetOption: function widgetOption(name, value) {\n    this._menu && this._menu.option(name, value);\n  },\n  handleToolbarVisibilityChange: noop\n});\nmodule.exports = ToolbarStrategy;","map":{"version":3,"sources":["C:/Users/va112/Documents/Webdev/React/Corona/node_modules/devextreme/ui/toolbar/ui.toolbar.strategy.js"],"names":["$","require","noop","each","errors","compileGetter","Class","Button","abstract","TOOLBAR_MENU_CONTAINER_CLASS","TOOLBAR_MENU_BUTTON_CLASS","ToolbarStrategy","inherit","ctor","toolbar","_toolbar","render","_renderMenuButton","_renderWidget","_widgetOptions","itemClickAction","_createActionByOption","itemTemplate","_getMenuItemTemplate","bind","onItemClick","e","_toggleMenu","_getTemplateByOption","$menu","appendTo","_menuContainer","_menu","_createComponent","_menuWidgetClass","renderMenuItems","_hasVisibleMenuItems","items","menuItems","option","result","optionGetter","overflowGetter","menuLocation","index","item","itemVisible","functionsAsIs","itemOverflow","location","log","_getMenuItems","_updateMenuVisibility","buttonOptions","_menuButtonOptions","_renderMenuButtonContainer","_$button","_$menuButtonContainer","addClass","onClick","_menuButtonClickHandler","_menuShown","$afterSection","_$afterSection","_buttonClass","toggleMenuVisibility","visible","animate","getMenuWidget","widgetOption","name","value","handleToolbarVisibilityChange","module","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/toolbar/ui.toolbar.strategy.js)\r\n * Version: 19.2.7\r\n * Build date: Thu Mar 26 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar $ = require(\"../../core/renderer\");\r\nvar noop = require(\"../../core/utils/common\").noop;\r\nvar each = require(\"../../core/utils/iterator\").each;\r\nvar errors = require(\"../../core/errors\");\r\nvar compileGetter = require(\"../../core/utils/data\").compileGetter;\r\nvar Class = require(\"../../core/class\");\r\nvar Button = require(\"../button\");\r\nvar abstract = Class.abstract;\r\nvar TOOLBAR_MENU_CONTAINER_CLASS = \"dx-toolbar-menu-container\";\r\nvar TOOLBAR_MENU_BUTTON_CLASS = \"dx-toolbar-menu-button\";\r\nvar ToolbarStrategy = Class.inherit({\r\n    ctor: function(toolbar) {\r\n        this._toolbar = toolbar\r\n    },\r\n    render: function() {\r\n        this._renderMenuButton();\r\n        this._renderWidget()\r\n    },\r\n    _widgetOptions: function() {\r\n        var itemClickAction = this._toolbar._createActionByOption(\"onItemClick\");\r\n        return {\r\n            itemTemplate: this._getMenuItemTemplate.bind(this),\r\n            onItemClick: function(e) {\r\n                this._toggleMenu(false, true);\r\n                itemClickAction(e)\r\n            }.bind(this)\r\n        }\r\n    },\r\n    _getMenuItemTemplate: function() {\r\n        return this._toolbar._getTemplateByOption(\"menuItemTemplate\")\r\n    },\r\n    _renderWidget: function() {\r\n        var $menu = $(\"<div>\").appendTo(this._menuContainer());\r\n        this._menu = this._toolbar._createComponent($menu, this._menuWidgetClass(), this._widgetOptions());\r\n        this.renderMenuItems()\r\n    },\r\n    _menuContainer: abstract,\r\n    _menuWidgetClass: abstract,\r\n    _hasVisibleMenuItems: function(items) {\r\n        var menuItems = items || this._toolbar.option(\"items\");\r\n        var result = false;\r\n        var optionGetter = compileGetter(\"visible\");\r\n        var overflowGetter = compileGetter(\"locateInMenu\");\r\n        var menuLocation = false;\r\n        each(menuItems, function(index, item) {\r\n            var itemVisible = optionGetter(item, {\r\n                functionsAsIs: true\r\n            });\r\n            var itemOverflow = overflowGetter(item, {\r\n                functionsAsIs: true\r\n            });\r\n            if (\"menu\" === item.location) {\r\n                menuLocation = true\r\n            }\r\n            if (false !== itemVisible && (\"auto\" === itemOverflow || \"always\" === itemOverflow || \"menu\" === item.location)) {\r\n                result = true\r\n            }\r\n        });\r\n        if (menuLocation) {\r\n            errors.log(\"W0001\", \"dxToolbar - 'location' item field\", \"menu\", \"16.1\", \"Use 'locateInMenu' item field instead.\")\r\n        }\r\n        return result\r\n    },\r\n    _getMenuItems: function() {\r\n        return this._toolbar._getMenuItems()\r\n    },\r\n    _updateMenuVisibility: noop,\r\n    _renderMenuButton: function() {\r\n        var buttonOptions = this._menuButtonOptions();\r\n        this._renderMenuButtonContainer();\r\n        this._$button = $(\"<div>\").appendTo(this._$menuButtonContainer).addClass(TOOLBAR_MENU_BUTTON_CLASS);\r\n        this._toolbar._createComponent(this._$button, Button, buttonOptions)\r\n    },\r\n    _menuButtonOptions: function() {\r\n        return {\r\n            onClick: this._menuButtonClickHandler.bind(this)\r\n        }\r\n    },\r\n    _menuButtonClickHandler: function() {\r\n        this._toggleMenu(!this._menuShown, true)\r\n    },\r\n    _renderMenuButtonContainer: function() {\r\n        var $afterSection = this._toolbar._$afterSection;\r\n        this._$menuButtonContainer = $(\"<div>\").appendTo($afterSection).addClass(this._toolbar._buttonClass()).addClass(TOOLBAR_MENU_CONTAINER_CLASS)\r\n    },\r\n    renderMenuItems: function() {\r\n        this._menu && this._menu.option(\"items\", this._getMenuItems())\r\n    },\r\n    toggleMenuVisibility: function(visible, animate) {\r\n        this._menu && this._toggleMenu(visible, animate)\r\n    },\r\n    _toggleMenu: function(visible) {\r\n        this._menuShown = visible\r\n    },\r\n    getMenuWidget: function() {\r\n        return this._menu\r\n    },\r\n    widgetOption: function(name, value) {\r\n        this._menu && this._menu.option(name, value)\r\n    },\r\n    handleToolbarVisibilityChange: noop\r\n});\r\nmodule.exports = ToolbarStrategy;\r\n"]},"metadata":{},"sourceType":"script"}